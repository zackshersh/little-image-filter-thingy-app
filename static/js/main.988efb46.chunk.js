(this["webpackJsonpimage-filter-app"]=this["webpackJsonpimage-filter-app"]||[]).push([[0],{449:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),r=a(21),i=a.n(r),o=a(91),s=a.n(o),l=a(140),d=a(3),h=a(0),u=function(){var e=Object(n.useState)(0),t=Object(d.a)(e,2),a=t[0],c=(t[1],Object(n.useState)(0)),r=Object(d.a)(c,2),i=r[0];r[1];return Object(h.jsx)("div",{className:"canvas-component flex-center",children:Object(h.jsx)("canvas",{style:{transform:"translate(".concat(a+"px",",").concat(i+"px",")")},onMouseDown:function(e){e.target.onmousemove=function(e){},e.target.onmouseup=function(e){e.target.onmouseup=null,e.target.onmousemove=null}},className:"imageCanv"})})},j=function(e){var t=e.eventHandler,a=Object(n.useState)(!1),c=Object(d.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)("No File Uploaded"),s=Object(d.a)(o,2),l=s[0],u=s[1];return Object(h.jsxs)("div",{className:"File-Upload ".concat(r?"File-Upload File-Upload-True":"File-Upload-False"),children:[Object(h.jsx)("button",{onMouseDown:function(){document.querySelector("#imageUpload").click()},children:"Upload"}),Object(h.jsx)("p",{children:l}),Object(h.jsx)("input",{style:{display:"none"},onChange:function(e){var a,n;t(e.target.files),u((a=e.target.files[0].name,n=48,a.length>n?a.substring(0,n)+"...":a)),i(!0)},id:"imageUpload",type:"file",accept:".jpg, .png"})]})};function p(e,t,a){return e+(t-e)*a}function f(e){return Math.floor(Math.random()*e)}function b(){return Math.random()>.5?1:-1}function x(e,t,a){return t*(4*a)+4*e}function v(e,t,a,n,c,r){for(var i=Object(d.a)(r,4),o=i[0],s=i[1],l=i[2],h=i[3],u=e.data,j=0;j<c;j++)for(var p=0;p<n;p++){var f=x(t+p,a+j,e.width);u[f]=o,u[f+1]=s,u[f+2]=l,u[f+3]=h}}function O(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function m(e){var t=Object(d.a)(e,3),a=t[0],n=t[1],c=t[2];return"#"+O(a)+O(n)+O(c)}var g=a(93),w=a(62),C=a(141);a(149);function F(e){var t=255-e[0],a=255-e[1],n=255-e[2];e[3];return[Math.floor(t),Math.floor(a),Math.floor(n),Math.floor(e[3])]}function y(e,t){var a=t.value,n=void 0===a?40:a;return[e[0]+n,e[1]+n,e[2]+n,e[3]]}function k(e,t){var a=t.cutoff,n=void 0===a?120:a;return(e[0]+e[1]+e[2])/3>n?[255,255,255,e[3]]:[0,0,0,255,e[3]]}function M(e,t){var a=t.darkColor,n=void 0===a?[0,0,0]:a,c=t.lightColor,r=void 0===c?[255,255,255]:c,i=(e[0]+e[1]+e[2])/3/255,o=p(n[0],r[0],i),s=p(n[1],r[1],i),l=p(n[2],r[2],i);return[Math.floor(o),Math.floor(s),Math.floor(l),Math.floor(e[3])]}function S(e,t){var a=t.max,n=void 0===a?50:a,c=t.monochromatic;if(void 0===c||c){var r=f(n)*b(),i=e[0]+r,o=e[1]+r,s=e[2]+r;return[Math.floor(i),Math.floor(o),Math.floor(s),Math.floor(e[3])]}var l=e[0]+f(n)*b(),d=e[1]+f(n)*b(),h=e[2]+f(n)*b();return[Math.floor(l),Math.floor(d),Math.floor(h),Math.floor(e[3])]}function N(e,t){var a=t.amount,n=void 0===a?3:a,c=e[0],r=e[1],i=e[2],o=(c+r+i)/3,s=p(o,c,n),l=p(o,r,n),d=p(o,i,n);return[Math.floor(s),Math.floor(l),Math.floor(d),Math.floor(e[3])]}function I(e,t){var a=t.value,n=void 0===a?.5:a,c=Object(d.a)(e,3),r=function(e,t,a){e/=255,t/=255,a/=255;var n,c,r=Math.max(e,t,a),i=Math.min(e,t,a),o=(r+i)/2;if(r==i)n=c=0;else{var s=r-i;switch(c=o>.5?s/(2-r-i):s/(r+i),r){case e:n=(t-a)/s+(t<a?6:0);break;case t:n=(a-e)/s+2;break;case a:n=(e-t)/s+4}n/=6}return[n,c,o]}(c[0],c[1],c[2]),i=Object(d.a)(r,3),o=i[0],s=function(e,t,a){var n,c,r;if(0==t)n=c=r=a;else{var i=function(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+6*(t-e)*a:a<.5?t:a<2/3?e+(t-e)*(2/3-a)*6:e},o=a<.5?a*(1+t):a+t-a*t,s=2*a-o;n=i(s,o,e+1/3),c=i(s,o,e),r=i(s,o,e-1/3)}return[255*n,255*c,255*r]}(o+=n,i[1],i[2]),l=Object(d.a)(s,3);return[l[0],l[1],l[2],e[3]]}a(144);function A(e,t){var a=t.pixelWidth,n=void 0===a?12:a,c=t.pixelsPerRow,r=e.data,i=new ImageData(e.width,e.height),o=(i.data,8);n?o=n:c&&(o=Math.floor(e.width/c)),o=Math.floor(o*he.drawResFactor);for(var s=0;s<e.height;s+=o)for(var l=0;l<e.width;l+=o){var d=x(l,s,e.width),h=[r[d],r[d+1],r[d+2],r[d+3]];v(i,l,s,o,o,[].concat(h))}return console.log(document.event),i}function D(e,t){t.canvas;var a=t.blockScaleFactor,n=void 0===a?2:a,c=t.randomPattern,r=void 0!==c&&c,i=e.data,o=new ImageData(e.width,e.height),s=(o.data,[0,8,2,10,12,4,14,6,13,11,1,9,15,7,13,5]);(n=Math.floor(n*he.drawResFactor))<1&&(n=1);for(var l=Math.sqrt(s.length),d=0;d<e.height;d+=l*n)for(var h=0;h<e.width;h+=l*n){if(r){s=[];for(var u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],j=u.length,p=0;p<j;p++){var b=f(u.length);s.push(u[b]),u.splice(b,1)}}for(var O=x(h,d,e.width),m=i[O],g=i[O+1],w=i[O+2],C=i[O+3],F=(m+g+w)/3,y=Math.floor(F/255*s.length),k=0,M=0;M<l*n;M+=n)for(var S=0;S<l*n;S+=n)s[k]<y?v(o,h+S,d+M,n,n,[255,255,255,C]):v(o,h+S,d+M,n,n,[0,0,0,C]),k++}return console.log("%cBITMAP COMPLETE","color:rgb(0,255,0)"),o}function E(e,t){t.canvas;var a=t.xAmplitude,n=void 0===a?20:a,c=t.xWavelength,r=void 0===c?120:c,i=t.xShift,o=void 0===i?0:i,s=t.yAmplitude,l=void 0===s?20:s,d=t.yWavelength,h=void 0===d?60:d,u=t.yShift,j=void 0===u?0:u,p=t.warp,f=void 0===p||p,b=e.data,v=new ImageData(e.width,e.height),O=v.data;n=Math.floor(he.drawResFactor*n),r=Math.floor(he.drawResFactor*r),o=Math.floor(he.drawResFactor*o),l=Math.floor(he.drawResFactor*l),h=Math.floor(he.drawResFactor*h),j=Math.floor(he.drawResFactor*j);for(var m=0;m<e.height;m++)for(var g=0;g<e.width;g++){var w=void 0,C=void 0;f?(w=g+Math.sin(g/r)*n+o,C=m+Math.sin(m/h)*l+j):(w=g+Math.sin(m/h)*l+j,C=m+Math.sin(g/r)*n+o),w=Math.floor(w),C=Math.floor(C),w>e.width&&(w-=e.width),C>e.height?C-=e.height:C<0&&(C+=e.height),200==g&&200==m&&(console.log(">>>>>>>",g,m),console.log("=======",w,C));var F=x(w,C,e.width),y=x(g,m,e.width);O[y]=b[F],O[y+1]=b[F+1],O[y+2]=b[F+2],O[y+3]=b[F+3]}return v}var R=function(){function e(){Object(w.a)(this,e),this.canvas=null,this.w=400,this.h=400,this.image=null,this.activeFilters=[],this.filtersCompiled=[],this.renderWorkers=[],this.drawCountdown=500,this.drawInterval=null,this.drawResFactor=.5}return Object(C.a)(e,[{key:"init",value:function(e){console.log("%cV 1.2","background-color:#ff00ff;padding:24px 48px 24px 48px;color:black"),this.canvas=e,console.log("%c Initializing Image Object","background-color:orange;color:black"),console.log("%c                             ","background-color: orange;color:black;width:200px;white-space:prewrap;"),console.log(this),console.log("%c                             ","background-color: orange;color:black;width:200px;white-space:prewrap"),this.ctx=this.canvas.getContext("2d"),this.setCanvas();this.renderWorkers=[],console.log("%cTHIS.IMAGE --------------","color:orange"),console.log(this.image),console.log("%c ------------------------","color:orange"),this.compileFilters(),this.image&&this.draw()}},{key:"clearFilters",value:function(){this.filters=[]}},{key:"addFilter",value:function(e){console.log("ADDING FILTER"),this.activeFilters.push(e),this.compileFilters()}},{key:"removeFilter",value:function(e){this.activeFilters.splice(e,1),this.compileFilters()}},{key:"compileFilters",value:function(){var e=this;this.filtersCompiled=[];var t=[];this.activeFilters.forEach((function(a){console.log(a);var n=a.type;a.active&&("ByPixelFilter"==n?t.push(a):"ByBlockFilter"==n&&(t.length>0&&(e.filtersCompiled.push(t),t=[]),e.filtersCompiled.push(a)))})),t.length>0&&(this.filtersCompiled.push(t),t=[])}},{key:"setImage",value:function(e){console.log("%c Image Set","color:orange"),this.image=e,this.canvas.style.width="50vw";var t=getComputedStyle(this.image);t.width,t.height;this.setCanvas(),this.draw()}},{key:"setCanvas",value:function(){this.image?(this.w=this.image.width*this.drawResFactor,this.h=this.image.height*this.drawResFactor,this.canvas.width=this.w,this.canvas.height=this.h):(this.canvas.width=this.w,this.canvas.height=this.h)}},{key:"drawDefault",value:function(){this.ctx.fillStyle="rgb(170,170,170)",this.ctx.beginPath(),this.ctx.fillRect(0,0,this.w,this.h),this.ctx.closePath()}},{key:"draw",value:function(e){if(this.image){this.compileFilters();var t=performance.now();if(console.log("%c DRAWIMG IMAGE","color:orange;"),this.ctx.beginPath(),this.ctx.fillStyle="rgb(".concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),")"),this.ctx.fillRect(0,0,this.image.width,this.image.height),this.ctx.closePath(),this.ctx.drawImage(this.image,0,0,this.w,this.h),this.filtersCompiled.length>0){console.log("COMPILED FILTERS FOUND");var a=this.applyFilters();this.ctx.putImageData(a,0,0)}else console.log("NO COMPILED FILTERS FOUND");var n=performance.now();console.log("%cIMAGE DRAWN WITH ".concat(this.activeFilters.length," FILTERS \n IN ").concat((n-t)/1e3," SECONDS"),"background-color:yellow;color:black;padding:3px")}}},{key:"applyFilters",value:function(){console.log("%cAPPLYING FILTERS","background-color:#00ff00");var e=this.ctx.getImageData(0,0,this.w,this.h);return this.filtersCompiled.reduce((function(e,t){console.log("%cREDUCER FUNCTION REDUCING","color:#00ff00");var a=e,n=a.data;if(t instanceof Array){for(var c=function(){var e=[n[r],n[r+1],n[r+2],n[r+3]];t.forEach((function(t){e=t.operation(e,t.options)})),n[r]=e[0],n[r+1]=e[1],n[r+2]=e[2],n[r+3]=e[3]},r=0;r<n.length;r+=4)c();return a}return t.operation(a,t.options)}),e)}},{key:"exportImage",value:function(e,t,a,n){console.log("%cEXPORTING IMAGE","background-color:orange;color:black");var c=this.drawResFactor;this.drawResFactor=t/100,this.setCanvas(),this.draw(),this.renderToImg(e,a,n),this.drawResFactor=c,this.setCanvas(),this.draw()}},{key:"renderToImg",value:function(e,t,a){var n=document.querySelector("#draw-output");n&&n.remove();var c=document.createElement("img");function r(t){var a=document.createElement("a");a.style.display="none";var n=window.URL.createObjectURL(t);a.href=n,a.download=e,a.click()}c.id="draw-output",c.style.display="none","jpeg"==t?this.canvas.toBlob(r,"image/jpeg",a):this.canvas.toBlob(r,"image/png")}}]),e}(),T=function e(t,a,n){Object(w.a)(this,e),this.operation=t,this.name=a,this.options=n,this.active=!0,this.type="ByPixelFilter"},B=function e(t,a,n){Object(w.a)(this,e),this.operation=t,this.name=a,this.options=n,this.active=!0,this.type="ByBlockFilter"},P=function(e){var t=e.handler,a=e.title,n=(e.filter,e.name),c=e.defaultOptions;return Object(h.jsx)("p",{"data-filter":n,"data-options":c,className:"Filter-Option",onMouseDown:t,children:a})},L=function(e){var t=e.refreshApp,a=Object(n.useState)(!1),c=Object(d.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)("100%"),s=Object(d.a)(o,2),l=s[0],u=s[1],j=Object(n.useState)(0),p=Object(d.a)(j,2),f=p[0],b=p[1],x=Object(n.useState)(0),v=Object(d.a)(x,2),O=v[0],m=v[1],w=function(){r?(u("100%"),b(0),m(0),document.querySelector(".AF-Button").textContent="Filters +",i(!1)):(u("100%"),b("auto"),m(24),document.querySelector(".AF-Button").textContent="Filters -",i(!0))},C=function(e){console.log(e.target.dataset.filter),w();var a=[F,y,N,M,S,k,A,D,E,I],n=["invert","exposure","saturation","gradientMap","noise","threshold","pixelate","bitmap","wave","hue"];console.log(e.target.dataset);var c=JSON.parse(e.target.dataset.options);a.forEach((function(t,a){if(e.target.dataset.filter==n[a]){var r=e.target.textContent.toLowerCase();console.log("FILTER MATCHED = "+n[a]),"bitmap"==r||"pixelate"==r||"wave"==r?he.addFilter(new B(t,n[a],Object(g.a)({},c))):he.addFilter(new T(t,n[a],Object(g.a)({},c))),console.log(he.activeFilters)}})),t()};return Object(h.jsxs)("div",{className:"Add-Filter Menu-Bar-Cont",children:[Object(h.jsx)("div",{className:"Add-Filter-Button",children:Object(h.jsx)("button",{className:"AF-Button Menu-Bar-Button",onMouseDown:w,children:"Filters +"})}),Object(h.jsxs)("div",{style:{width:l,height:f,paddingBottom:O,paddingTop:2*O},className:"Add-Filter-Options",children:[Object(h.jsx)(P,{handler:C,filter:y,name:"exposure",title:"Exposure",defaultOptions:JSON.stringify({value:40})}),Object(h.jsx)(P,{handler:C,filter:F,name:"invert",title:"Invert",defaultOptions:JSON.stringify({filler:1})}),Object(h.jsx)(P,{handler:C,filter:S,name:"noise",title:"Noise",defaultOptions:JSON.stringify({max:100,monochromatic:!0})}),Object(h.jsx)(P,{handler:C,filter:A,name:"pixelate",title:"Pixelate",defaultOptions:JSON.stringify({pixelWidth:12})}),Object(h.jsx)(P,{handler:C,filter:N,name:"saturation",title:"Saturation",defaultOptions:JSON.stringify({amount:3})}),Object(h.jsx)(P,{handler:C,filter:k,name:"threshold",title:"Threshold",defaultOptions:JSON.stringify({cutoff:120})}),Object(h.jsx)(P,{handler:C,filter:E,name:"wave",title:"Wave",defaultOptions:JSON.stringify({xAmplitude:20,xWavelength:120,xShift:0,yAmplitude:20,yWavelength:60,yShift:0,warp:!1})}),Object(h.jsx)(P,{handler:C,filter:D,name:"bitmap",title:"Bitmap",defaultOptions:JSON.stringify({blockScaleFactor:4,randomPattern:!1})})]})]})},W=function(e){var t=e.refreshApp,a=Object(n.useState)(he.drawResFactor),c=Object(d.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(!1),s=Object(d.a)(o,2),l=s[0],u=s[1],j=function(e){var a=e.target.dataset.val;i(parseFloat(a)),u(!1),he.drawResFactor=a,t()};return Object(h.jsxs)("div",{className:"Preview-Res Menu-Bar-Cont",children:[Object(h.jsx)("div",{className:"Res-Button-Cont",children:Object(h.jsxs)("button",{className:"Menu-Bar-Button",onMouseDown:function(e){u(!l)},children:["Preview Resolution: ",r,"x"]})}),Object(h.jsxs)("div",{className:"Res-Options-Cont ".concat(l?"Res-Options-Expanded-True":"Res-Options-Expanded-False"),children:[Object(h.jsx)("button",{onMouseDown:j,"data-val":"1",children:"1x"}),Object(h.jsx)("button",{onMouseDown:j,"data-val":"0.5",children:"0.5x"}),Object(h.jsx)("button",{onMouseDown:j,"data-val":"0.25",children:"0.25x"}),Object(h.jsx)("button",{onMouseDown:j,"data-val":"0.1",children:"0.1x"})]})]})},U=function(e){var t=e.setDisplay;return Object(h.jsx)("div",{className:"Export-Cont Menu-Bar-Cont",children:Object(h.jsx)("button",{className:"Menu-Bar-Button",onMouseDown:function(){he.image?t("flex"):alert("An image must be uploaded to export.")},children:"Export"})})},G=function(e){var t=e.handler;return Object(h.jsx)("div",{className:"Info-Button",children:Object(h.jsx)("button",{onMouseDown:function(){t("flex")},children:"?"})})},H=function(e){var t=e.refreshApp,a=e.setExportDisplay,n=e.setInfoDisplay,c=function(e){"zoomIn"==e.target.id?r(1.5,500):r(.66,500)},r=function(e,t){var a=document.querySelector(".imageCanv"),n=getComputedStyle(a).width,c=parseInt(n.split("px")[0])*e;a.style.width=c+"px"};return Object(h.jsxs)("div",{className:"Image-Display",children:[Object(h.jsxs)("div",{className:"Menu-Bar",children:[Object(h.jsx)(U,{setDisplay:a}),Object(h.jsx)(L,{refreshApp:t}),Object(h.jsx)(W,{refreshApp:t})]}),Object(h.jsx)("div",{className:"Image-Cont flex-center",children:Object(h.jsx)(u,{})}),Object(h.jsxs)("div",{className:"Zoom-Cont",children:[Object(h.jsx)("button",{id:"zoomIn",onMouseDown:c,children:"+"}),Object(h.jsx)("button",{id:"zoomOut",onMouseDown:c,children:"-"})]}),Object(h.jsx)(G,{handler:n})]})},J=function(e){var t=e.filter,a=e.filterIndex,c=e.refreshApp,r=Object(n.useState)(t.active),i=Object(d.a)(r,2),o=i[0];i[1];return Object(h.jsxs)("div",{className:"Filter-Card Invert-Filter-Card",children:[Object(h.jsx)("button",{onMouseDown:function(e){he.activeFilters.splice(a,1),he.compileFilters(),c()},className:"x-out",children:"x"}),Object(h.jsxs)("span",{children:[Object(h.jsx)("div",{className:"Display-Check-Cont",children:Object(h.jsx)("input",{onChange:function(e){e.target.checked?t.active=!0:t.active=!1,he.draw()},type:"checkbox",defaultChecked:o})}),Object(h.jsx)("h3",{children:"Invert"})]})]})},z=function(e){var t=e.handler,a=e.max,c=e.min,r=e.step,i=e.value,o=e.title,s=Object(n.useState)(i),l=Object(d.a)(s,2),u=l[0],j=l[1];return Object(h.jsxs)("div",{className:"Slider",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{defaultValue:u,onMouseUp:t,onChange:function(e){j(e.target.value)},max:a,min:c,step:r,type:"range"}),Object(h.jsx)("p",{className:"Slider-Value-Display",children:u})]}),Object(h.jsx)("p",{children:o})]})},q=function(e){var t=e.filter,a=e.filterIndex,c=e.refreshApp,r=Object(n.useState)(t.active),i=Object(d.a)(r,2),o=i[0];i[1];return Object(h.jsxs)("div",{className:"Filter-Card Saturation-Filter-Card",children:[Object(h.jsx)("button",{onMouseDown:function(e){he.activeFilters.splice(a,1),he.compileFilters(),c()},className:"x-out",children:"x"}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("div",{className:"Display-Check-Cont",children:[Object(h.jsx)("input",{onChange:function(e){e.target.checked?t.active=!0:t.active=!1,he.draw()},type:"checkbox",defaultChecked:o}),"                "]}),Object(h.jsx)("h3",{children:"Saturate"})]}),Object(h.jsx)(z,{handler:function(e){t.options.amount=e.target.value,he.draw()},max:10,min:0,step:1,value:2})]})},V=function(e){var t=e.filter,a=e.filterIndex,c=e.refreshApp,r=Object(n.useState)(t.active),i=Object(d.a)(r,2),o=i[0],s=(i[1],Object(n.useState)(t.options.monochromatic)),l=Object(d.a)(s,2),u=l[0],j=l[1];return Object(h.jsxs)("div",{className:"Filter-Card Noise-Filter-Card",children:[Object(h.jsx)("button",{onMouseDown:function(e){he.activeFilters.splice(a,1),he.compileFilters(),c()},className:"x-out",children:"x"}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("div",{className:"Display-Check-Cont",children:[Object(h.jsx)("input",{onChange:function(e){e.target.checked?t.active=!0:t.active=!1,he.draw()},type:"checkbox",defaultChecked:o}),"                "]}),Object(h.jsx)("h3",{children:"Noise"})]}),Object(h.jsx)(z,{handler:function(e){t.options.max=e.target.value,console.log("%cMONOCHROMATIC STATUS","color:red"),console.log("monochr state: "),console.log(u),console.log("filter.options.monochromatic:"),console.log(t.options.monochromatic),he.draw()},max:255,min:0,step:1,value:50,title:"Amount"}),Object(h.jsxs)("div",{className:"Checkbox-Cont",children:[Object(h.jsx)("input",{type:"checkbox",onChange:function(e){console.log(e.target.checked),j(e.target.checked),t.options.monochromatic=!u,console.log("%cMONOCHROMATIC STATUS","color:red"),console.log("monochr state: "),console.log(u),console.log("filter.options.monochromatic:"),console.log(t.options.monochromatic),he.draw()},checked:u}),Object(h.jsx)("p",{children:"Monochromatic Noise"})]})]})},X=function(e){var t=e.filter,a=e.filterIndex,c=e.refreshApp,r=Object(n.useState)(t.active),i=Object(d.a)(r,2),o=i[0];i[1];return Object(h.jsxs)("div",{className:"Filter-Card Saturation-Filter-Card",children:[Object(h.jsx)("button",{onMouseDown:function(e){he.activeFilters.splice(a,1),he.compileFilters(),c()},className:"x-out",children:"x"}),Object(h.jsxs)("span",{children:[Object(h.jsx)("div",{className:"Display-Check-Cont",children:Object(h.jsx)("input",{onChange:function(e){e.target.checked?t.active=!0:t.active=!1,he.draw()},type:"checkbox",defaultChecked:o})}),Object(h.jsx)("h3",{children:"Exposure"})]}),Object(h.jsx)(z,{handler:function(e){t.options.value=parseInt(e.target.value),he.draw()},max:255,min:-255,step:1,value:t.options.value,title:"Value"})]})},Y=function(e){var t=e.filter,a=e.filterIndex,c=e.refreshApp,r=Object(n.useState)(t.active),i=Object(d.a)(r,2),o=i[0];i[1];return Object(h.jsxs)("div",{className:"Filter-Card Saturation-Filter-Card",children:[Object(h.jsx)("button",{onMouseDown:function(e){he.activeFilters.splice(a,1),he.compileFilters(),c()},className:"x-out",children:"x"}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("div",{className:"Display-Check-Cont",children:[Object(h.jsx)("input",{onChange:function(e){e.target.checked?t.active=!0:t.active=!1,he.draw()},type:"checkbox",defaultChecked:o}),"                "]}),Object(h.jsx)("h3",{children:"Threshold"})]}),Object(h.jsx)(z,{handler:function(e){t.options.cutoff=parseInt(e.target.value),he.draw()},max:255,min:0,step:1,value:t.options.cutoff,title:"Cutoff Value"})]})},Z=250,Q=null;var $=function(e){e.title;var t=e.value,a=e.handler,c=Object(n.useState)(t),r=Object(d.a)(c,2),i=r[0],o=r[1];return Object(h.jsx)("div",{className:"Color-Input",children:Object(h.jsx)("input",{value:i,onChange:function(e){Z=250,Q||(Q=setInterval((function(){(Z-=10)<0&&(clearInterval(Q),console.log("!!!!!!!! HEY !!!!!!!!!"),Z=250,Q=null,he.draw())}),10)),a(i),o(e.target.value)},type:"color"})})},K=function(e){var t=e.filter,a=e.filterIndex,c=e.refreshApp,r=Object(n.useState)(t.active),i=Object(d.a)(r,2),o=i[0],s=(i[1],Object(n.useState)(m(t.options.darkColor))),l=Object(d.a)(s,2),u=l[0],j=l[1],p=Object(n.useState)(m(t.options.lightColor)),f=Object(d.a)(p,2);f[0],f[1];return Object(h.jsxs)("div",{className:"Filter-Card Invert-Filter-Card",children:[Object(h.jsx)("button",{onMouseDown:function(e){he.activeFilters.splice(a,1),he.compileFilters(),c()},className:"x-out",children:"x"}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("div",{className:"Display-Check-Cont",children:[Object(h.jsx)("input",{onChange:function(e){e.target.checked?t.active=!0:t.active=!1,he.draw()},type:"checkbox",defaultChecked:o}),"                "]}),Object(h.jsx)("h3",{children:"Gradient Map"})]}),Object(h.jsx)("br",{}),Object(h.jsx)($,{title:"Dark Color",value:u,handler:function(e){j(e),t.options.darkColor=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}(u)}})]})},_=function(e){var t=e.filter,a=e.filterIndex,c=e.refreshApp,r=Object(n.useState)(t.active),i=Object(d.a)(r,2),o=i[0],s=(i[1],Object(n.useState)(t.options.randomPattern)),l=Object(d.a)(s,2),u=l[0];l[1];return Object(h.jsxs)("div",{className:"Filter-Card Saturation-Filter-Card",children:[Object(h.jsx)("button",{onMouseDown:function(e){he.activeFilters.splice(a,1),he.compileFilters(),c()},className:"x-out",children:"x"}),Object(h.jsx)("div",{className:"Display-Check-Cont",children:Object(h.jsx)("input",{onChange:function(e){e.target.checked?t.active=!0:t.active=!1,he.draw()},type:"checkbox",defaultChecked:o})}),Object(h.jsx)("span",{children:Object(h.jsx)("h3",{children:"Bitmap"})}),Object(h.jsx)(z,{handler:function(e){t.options.blockScaleFactor=parseInt(e.target.value),he.draw()},max:24,min:1,step:1,value:t.options.blockScaleFactor,title:"Scaling Factor"}),Object(h.jsxs)("div",{className:"Checkbox-Cont",children:[Object(h.jsx)("input",{type:"checkbox",onChange:function(e){t.options.randomPattern=e.target.checked,he.draw()},defaultChecked:u}),Object(h.jsx)("p",{children:"Random Noise Pattern"})]})]})},ee=function(e){var t=e.filter,a=e.filterIndex,c=e.refreshApp,r=Object(n.useState)(t.active),i=Object(d.a)(r,2),o=i[0];i[1];return Object(h.jsxs)("div",{className:"Filter-Card Saturation-Filter-Card",children:[Object(h.jsx)("button",{onMouseDown:function(e){he.activeFilters.splice(a,1),he.compileFilters(),c()},className:"x-out",children:"x"}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("div",{className:"Display-Check-Cont",children:[Object(h.jsx)("input",{onChange:function(e){e.target.checked?t.active=!0:t.active=!1,he.draw()},type:"checkbox",defaultChecked:o}),"                "]}),Object(h.jsx)("h3",{children:"Pixelate"})]}),Object(h.jsx)(z,{handler:function(e){t.options.pixelWidth=parseInt(e.target.value),he.draw()},max:255,min:2,step:1,value:t.options.pixelWidth,title:"Pixel Width"})]})},te=function(e){var t=e.handler,a=e.title,n=e.defaultValue;return Object(h.jsxs)("div",{className:"Checkbox-Cont",children:[Object(h.jsx)("input",{type:"checkbox",defaultChecked:n,onChange:t}),Object(h.jsx)("p",{children:a})]})},ae=function(e){var t=e.filter,a=e.filterIndex,c=e.refreshApp,r=Object(n.useState)(t.active),i=Object(d.a)(r,2),o=i[0],s=(i[1],Object(n.useState)(t.options.warp)),l=Object(d.a)(s,2),u=l[0],j=l[1];return Object(h.jsxs)("div",{className:"Filter-Card Saturation-Filter-Card",children:[Object(h.jsx)("button",{onMouseDown:function(e){he.activeFilters.splice(a,1),he.compileFilters(),c()},className:"x-out",children:"x"}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("div",{className:"Display-Check-Cont",children:[Object(h.jsx)("input",{onChange:function(e){e.target.checked?t.active=!0:t.active=!1,he.draw()},type:"checkbox",defaultChecked:o}),"                "]}),Object(h.jsx)("h3",{children:"Wave"})]}),Object(h.jsx)(te,{handler:function(e){t.options.warp=e.target.checked,j(e.target.checked),he.draw()},title:"Warp",defaultValue:u}),Object(h.jsx)(z,{handler:function(e){t.options.xAmplitude=e.target.value,he.draw()},max:u?100:1250,min:1,step:1,value:40,title:"X-Amplitude"}),Object(h.jsx)(z,{handler:function(e){t.options.xWavelength=e.target.value,he.draw()},max:1250,min:1,step:1,value:40,title:"X-Wavelength"}),Object(h.jsx)(z,{handler:function(e){t.options.yAmplitude=e.target.value,he.draw()},max:u?100:1250,min:1,step:1,value:40,title:"Y-Amplitude"}),Object(h.jsx)(z,{handler:function(e){t.options.yWavelength=e.target.value,he.draw()},max:1250,min:1,step:1,value:40,title:"Y-Wavelength"})]})};var ne=function(e){var t=e.filter,a=(e.filterIndex,e.refreshApp,Object(n.useState)(t.active)),c=Object(d.a)(a,2),r=c[0];return c[1],Object(h.jsxs)("div",{className:"Filter-Card Hue-Filter-Card",children:[Object(h.jsxs)("span",{children:[Object(h.jsxs)("div",{className:"Display-Check-Cont",children:[Object(h.jsx)("input",{onChange:function(e){e.target.checked?t.active=!0:t.active=!1,he.draw()},type:"checkbox",defaultChecked:r}),"                "]}),Object(h.jsx)("h3",{children:"Hue"})]}),Object(h.jsx)(z,{handler:function(e){t.options.value=e.target.value,he.draw()},max:1,min:0,step:.01,value:.5})]})},ce=function(e){var t=e.refreshApp;console.log(he);var a=he.activeFilters.map((function(e,a){var n=e.name;switch(console.log(n),n){case"invert":return Object(h.jsx)(J,{filter:e,filterIndex:a,refreshApp:t},a);case"saturation":return Object(h.jsx)(q,{filter:e,filterIndex:a,refreshApp:t},a);case"hue":return Object(h.jsx)(ne,{filter:e,filterIndex:a,refreshApp:t},a);case"noise":return Object(h.jsx)(V,{filter:e,filterIndex:a,refreshApp:t},a);case"exposure":return Object(h.jsx)(X,{filter:e,filterIndex:a,refreshApp:t},a);case"threshold":return Object(h.jsx)(Y,{filter:e,filterIndex:a,refreshApp:t},a);case"gradientMap":return Object(h.jsx)(K,{filter:e,filterIndex:a,refreshApp:t},a);case"bitmap":return Object(h.jsx)(_,{filter:e,filterIndex:a,refreshApp:t},a);case"pixelate":return Object(h.jsx)(ee,{filter:e,filterIndex:a,refreshApp:t},a);case"wave":return Object(h.jsx)(ae,{filter:e,filterIndex:a,refreshApp:t},a);default:return Object(h.jsx)("div",{className:"Filter-Card",children:"Default Card"})}}));return console.log(a),Object(h.jsx)("div",{className:"Filter-Card-Cont",children:a})},re=function(e){var t=e.uploadHandler,a=e.refreshApp;return Object(h.jsxs)("div",{className:"Setting-Suite",children:[Object(h.jsx)(j,{eventHandler:t}),Object(h.jsx)(ce,{refreshApp:a})]})},ie=function(e){var t=e.title,a=e.handler,n=e.size,c=e.value,r=e.suffix,i=e.extraText,o=200;if(n)switch(n){case"Small":o=100;break;case"Medium":o=150;break;case"Large":o=250;case"X-Large":o=350}return Object(h.jsxs)("div",{className:"Input",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{style:{width:o},onChange:a,value:"".concat(c).concat(r||"")}),function(){if(i)return Object(h.jsx)("p",{children:i})}()]}),function(){if(t)return Object(h.jsx)("label",{children:t})}()]})},oe=function(e){var t=e.options,a=e.title,n=e.handler,c=t.map((function(e,t){return Object(h.jsx)("option",{value:e,children:e},t)}));return Object(h.jsxs)("div",{className:"Select",children:[Object(h.jsxs)("select",{onChange:n,children:[" ",c," "]}),function(){if(a)return Object(h.jsx)("label",{children:a})}()]})},se=function(e){var t=e.display,a=e.setDisplay,c=Object(n.useState)(100),r=Object(d.a)(c,2),i=r[0],o=r[1],s=Object(n.useState)("1000x1000"),l=Object(d.a)(s,2),u=l[0],j=l[1],p=Object(n.useState)("png"),f=Object(d.a)(p,2),b=f[0],x=f[1],v=Object(n.useState)(1),O=Object(d.a)(v,2),m=O[0],g=O[1],w=Object(n.useState)("filtered-image"),C=Object(d.a)(w,2),F=C[0],y=C[1];Object(n.useEffect)((function(){k()}));var k=function(){var e=he.w/he.drawResFactor,t=he.h/he.drawResFactor,a=Math.floor(e*(i/100)),n=Math.floor(t*(i/100));j("".concat(a,"px x ").concat(n,"px"))},M=function(e){g(parseFloat(e.target.value))};return Object(h.jsx)("div",{style:{display:t},className:"Export-Modal",children:Object(h.jsxs)("div",{className:"Export-Inner-Cont",children:[Object(h.jsx)("h1",{children:"Export"}),Object(h.jsxs)("div",{className:"Export-Settings-Cont",children:[Object(h.jsxs)("div",{className:"Export-Setting-Group",children:[Object(h.jsx)("h3",{children:"Image Size"}),Object(h.jsx)(ie,{size:"Small",handler:function(e){if(e.target.value){var t=e.target.value.slice(0,e.target.value.length-1);o(t?parseInt(t):0)}else o(0)},value:i,title:"% of Original Size",suffix:"%",extraText:u})]}),Object(h.jsxs)("div",{className:"Export-Setting-Group",children:[Object(h.jsx)("h3",{children:"Format"}),Object(h.jsx)(oe,{handler:function(e){x(e.target.value)},options:["png","jpeg"],title:"Select an Image Format"}),function(){if("jpeg"==b)return Object(h.jsx)(z,{handler:M,max:1,min:.01,step:.01,value:1,title:"JPEG Compression Quality"})}()]}),Object(h.jsxs)("div",{className:"Export-Setting-Group",children:[Object(h.jsx)("h3",{children:"Filename"}),Object(h.jsx)(ie,{size:"X-Large",handler:function(e){y(e.target.value)},value:F,title:"filename"})]})]}),Object(h.jsx)("button",{onMouseDown:function(){he.exportImage(F,i,b,m),a("none")},children:"Export & Download"})]})})},le=a.p+"static/media/image-filter-app.482f681d.png",de=function(e){var t=e.display,a=e.setDisplay;return Object(h.jsx)("div",{style:{display:t},className:"Info-Modal",children:Object(h.jsxs)("div",{className:"Info-Inner-Cont",children:[Object(h.jsx)("button",{className:"X-Out",onMouseDown:function(){a("none")},children:"X"}),Object(h.jsx)("img",{src:le}),Object(h.jsx)("i",{children:"v 1.0.0"}),Object(h.jsxs)("p",{children:[Object(h.jsx)("i",{children:"Little Image Filter Web App Thingy"})," is a web app designed to allow users to upload images and apply a series of filters to create customizable effects"]}),Object(h.jsxs)("p",{children:["This project was created by ",Object(h.jsx)("a",{href:"http://www.zack-is.online",children:"Zack Hersh"}),". This application was created within the ReactJS framework and all source code can be found in this ",Object(h.jsx)("a",{href:"https://github.com/zackshersh/little-image-filter-thingy-app",children:"github repository"}),"."]})]})})},he=new R;console.log("%cMAINIMAGE CREATED FROM CLASS","color:cyan");var ue=function(){var e=Object(n.useState)(0),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)("none"),i=Object(d.a)(r,2),o=i[0],u=i[1],j=Object(n.useState)("none"),p=Object(d.a)(j,2),f=p[0],b=p[1],x=function(){console.log("%c<<<<<<<< REFRESHING APP >>>>>>>>>","background-color:cyan;color:black"),c(a+1)},v=function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),t&&t[0]){e.next=4;break}return console.log("%c NO FILES","color:white,background:red"),e.abrupt("return");case 4:console.log(t[0]),(a=document.createElement("img")).src=URL.createObjectURL(t[0]),console.log(a.style),a.onload=function(){he.setImage(a),console.log("%c IMAGE LOADED","color:cyan")};case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log("%cAPP REFRESHING!!","color:red"),Object(n.useEffect)((function(){console.log("%c USE EFFECT"),he.init(document.querySelector(".imageCanv"))})),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(se,{display:o,setDisplay:u}),Object(h.jsx)(de,{display:f,setDisplay:b}),Object(h.jsxs)("div",{className:"Image-Editor",children:[Object(h.jsx)(H,{refreshApp:x,setExportDisplay:u,setInfoDisplay:b}),Object(h.jsx)(re,{refreshApp:x,uploadHandler:v})]})]})};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(ue,{})}),document.getElementById("root"))}},[[449,1,2]]]);
//# sourceMappingURL=main.988efb46.chunk.js.map