{"version":3,"sources":["components/Canvas.js","components/FileUpload.js","utils.js","components/SaveAndLoad.js","pixelFilters.js","blockFilters.js","displacementFilters.js","ImageFunctions.js","components/FilterOption.js","components/AddFilter.js","components/PreviewRes.js","components/ExportButton.js","components/InfoButton.js","components/ImageDisplay.js","components/filter-cards/InvertCard.js","components/Slider.js","components/filter-cards/SaturateCard.js","components/filter-cards/NoiseCard.js","components/filter-cards/ExposureCard.js","components/filter-cards/ThresholdCard.js","components/ColorInput.js","components/filter-cards/GradientMapCard.js","components/filter-cards/BitmapCard.js","components/filter-cards/PixelateCard.js","components/Checkbox.js","components/filter-cards/WaveCard.js","components/filter-cards/HueCard.js","components/FilterCardCont.js","components/SettingSuite.js","components/Input.js","components/Select.js","components/ExportModal.js","assets/image-filter-app.png","components/InfoModal.js","App.js","index.js"],"names":["Canvas","useState","transX","transY","className","style","transform","onMouseDown","e","target","onmousemove","onmouseup","FileUpload","eventHandler","uploaded","setUploaded","uploadedStr","setUploadedStr","document","querySelector","click","display","onChange","string","maxLength","files","name","length","substring","id","type","accept","lerp","a","b","t","rndmInt","max","Math","floor","random","rndmSign","xyToIndex","x","y","w","fillPixelRect","imageData","h","r","g","data","y2","x2","i","width","componentToHex","c","hex","toString","rgbToHex","invert","pixel","exposure","value","threshold","cutoff","gradientMap","darkColor","lightColor","avgNormalized","noise","monochromatic","rndmVal","saturation","amount","grayVal","blendR","blendG","blendB","hue","s","min","l","d","rgbToHsl","hue2rgb","p","q","hslToRgb","pixelate","pixelWidth","pixelsPerRow","newImageData","ImageData","height","widthPerPixel","mainImage","drawResFactor","index","bigPixelValues","console","log","event","bitmap","canvas","blockScaleFactor","randomPattern","pattern","patternW","sqrt","nums","len","push","splice","brightness","mappedBrightness","patternIndex","wave","xAmplitude","xWavelength","xShift","yAmplitude","yWavelength","yShift","warp","nData","sin","offsetI","cpi","Image","this","image","activeFilters","filtersCompiled","renderWorkers","drawCountdown","drawInterval","ctx","getContext","setCanvas","compileFilters","draw","filters","activeFilter","filterIndex","byPixelFilterBatch","forEach","filter","active","img","imgStyles","getComputedStyle","fillStyle","beginPath","fillRect","closePath","finalRender","performanceStart","performance","now","drawImage","filteredData","applyFilters","putImageData","performanceStop","getImageData","reduce","previousVal","currentVal","newData","Array","operation","options","filename","scale","format","jpegQuality","prevResFacSave","renderToImg","prevImg","remove","imageElem","createElement","blobCallback","blob","url","window","URL","createObjectURL","href","download","toBlob","ByPixelFilter","ByBlockFilter","FilterOption","handler","title","defaultOptions","AddFilter","refreshApp","expanded","setExpanded","setWidth","setHeight","padding","setPadding","handleExpand","textContent","handleFilterOption","dataset","allFilters","filterNames","JSON","parse","tc","toLowerCase","addFilter","paddingBottom","paddingTop","stringify","filler","PreviewRes","previewRes","setPreviewRes","optionsExpanded","setOptionsExpanded","handleResButton","buttonVal","val","parseFloat","ExportButton","setDisplay","alert","InfoButton","ImageDisplay","setExportDisplay","setInfoDisplay","handleZoom","zoom","duration","canvasWidth","targetW","parseInt","split","InvertCard","filterActive","checked","defaultChecked","Slider","step","displayVal","setDisplayVal","defaultValue","onMouseUp","SaturationCard","NoiseCard","monochr","setMonochr","ExposureCard","ThresholdCard","timeRemaining","countdown","ColorInput","colorVal","setColorVal","setInterval","clearInterval","GradientMapCard","darkVal","setDarkVal","result","exec","hexToRgb","BitmapCard","randomBitmap","PixelateCard","Checkbox","WaveCard","warpActive","setWarpActive","HueCard","FilterCardCont","filterCards","map","operationType","SettingSuite","uploadHandler","Input","size","suffix","extraText","ifExtraText","ifTitle","Select","optionItems","option","ExportModal","exportSize","setExportSize","pixelSize","setPixelSize","setFormat","setJpegQuality","setFilename","useEffect","updatePixelSize","fullW","fullH","sizedW","sizedH","handleJpegQuality","slice","ifJpeg","exportImage","InfoModal","src","logoType","App","refresh","setRefresh","exportDisplay","infoDisplay","imageUploaded","newImg","onload","setImage","init","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.988efb46.chunk.js","sourcesContent":["import React, {useEffect,useState} from 'react';\n\nlet filters = [];\nlet img;\n\nconst Canvas = () => {\n\n    const [transX, setTransX] = useState(0)\n    const [transY, setTransY] = useState(0)\n\n    const drag = (e) => {\n        let pos1, pos2, pos3, pos4 = 0;\n        \n        // pos3 = e.clientX;\n        // pos4 = e.clientY;\n\n        // setTransX(e.clientX)\n        // setTransY(e.clientY)\n\n        e.target.onmousemove = function(e){\n            // e.preventDefault()\n\n            // let xNormalized = e.clientX - e.target.width/2;\n            // let yNormalized = e.clientY - e.target.height/2;\n\n            // console.log(xNormalized,yNormalized)\n\n            // // pos1 = transX - e.clientX;\n            // // pos2 = transY - e.clientY;\n\n            // setTransX(xNormalized)\n            // setTransY(yNormalized)\n\n            // console.log(transX)\n            // console.log(transY)\n\n            // pos3 = e.clientX;\n            // pos4 = e.clientY;\n\n            // // e.target.style.top = (e.target.offsetTop - pos2) + \"px\"\n            // // e.target.style.left = (e.target.offsetLeft - pos1) + \"px\"\n            \n        }\n\n        e.target.onmouseup = function(e){\n            e.target.onmouseup = null;\n            e.target.onmousemove = null;\n        }\n    }\n\n    return (\n        <div className=\"canvas-component flex-center\">\n            <canvas style={{transform:`translate(${transX+'px'},${transY+'px'})`}} onMouseDown={drag} className=\"imageCanv\"></canvas>\n        </div>\n    )\n\n}\n\nexport default Canvas;","import React, {useEffect,useState} from \"react\";\n\n\nconst FileUpload = ({eventHandler}) => {\n\n\n    const [uploaded,setUploaded] = useState(false);\n\n    const [uploadedStr,setUploadedStr] = useState('No File Uploaded')\n\n    const shortenString = (string, maxLength) => {\n        if(string.length > maxLength){\n            return string.substring(0,maxLength) + \"...\"\n        } else {\n            return string\n        }\n    }\n\n    const handleChange = (e) => {\n        eventHandler(e.target.files)\n        setUploadedStr(shortenString(e.target.files[0].name, 48))\n        setUploaded(true)\n    }\n\n    const handleUploadButton = () => {\n        document.querySelector('#imageUpload').click()\n    }\n\n\n    \n\n    return (\n        <div className={`File-Upload ${uploaded ? 'File-Upload File-Upload-True' : 'File-Upload-False'}`}>\n            <button onMouseDown={handleUploadButton}>Upload</button>\n            <p>{uploadedStr}</p>\n            <input style={{display:'none'}} onChange={handleChange} id=\"imageUpload\" type=\"file\" accept=\".jpg, .png\"></input>\n        </div>\n    )\n}\n\nexport default FileUpload;","import Canvas from \"./components/Canvas\"\n\nexport function waitASec(time){\n    return new Promise((resolve,reject) => {\n        setTimeout(function(){\n            resolve('yuh')\n        },time)\n    })\n}\n\nexport function lerp(a,b,t){\n    return a + ((b-a)*t)\n}\n\nexport function rndmInt(max){\n    return Math.floor(Math.random()*(max))\n}\n\nexport function rndmSign(){\n    if(Math.random() > 0.5){\n        return 1\n    } else {\n        return -1\n    }\n}\n\nexport function xyToIndex(x,y,w){\n    return (y*(w*4))+(x*4)\n}\n\nexport function dist(x1,y1,x2,y2){\n    return Math.hypot(x2-x1,y2-y1);\n}\n\nexport function fillPixelRect(imageData,x,y,w,h,[r,g,b,a]){\n    let data = imageData.data;\n    for(var y2=0;y2<h;y2++){\n        for(var x2=0;x2<w;x2++){\n\n            let i = xyToIndex(x+x2,y+y2,imageData.width);\n\n            data[i] = r;\n            data[i+1] = g;\n            data[i+2] = b;\n            data[i+3] = a;\n\n        }\n    }\n}\n\nexport function easeIn(t){\n    return t*t\n}\n\nexport function easeOut(t){\n    return 1 - Math.pow((1-t),2)\n}\n\n\nfunction componentToHex(c) {\n    var hex = c.toString(16);\n    return hex.length == 1 ? \"0\" + hex : hex;\n}\n  \nexport function rgbToHex([r, g, b]) {\n    return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\n}\n\nexport function hexToRgb(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    \n\n    return result ? [\n      parseInt(result[1], 16),\n      parseInt(result[2], 16),\n      parseInt(result[3], 16)\n     ] : null;\n}\n\nexport function fillDisplacementGaps(imageData){\n\n    let data = imageData.data\n\n    let newImageData = new ImageData(imageData.width,imageData.height);\n    newImageData.data.set(data);\n    let nData = newImageData.data;\n\n    console.log('%cFILLING','color:orange')\n\n    for(var y=0;y<imageData.height;y++){\n        for(var x=0;x<imageData.width;x++){\n            let i = xyToIndex(x,y,imageData.width);\n\n\n            if(data[i+3] > 0){\n                continue;\n            }\n\n\n\n            // console.log(i)\n            // console.log(x)\n            // console.log(xyToIndex(x+1,y,imageData.width))\n            // console.log(x+1)\n\n\n            if(data[xyToIndex(x+1,y,imageData.width)+3] > 0){\n                let i2 = xyToIndex(x+1,y,imageData.width);\n                nData[i] = data[i2]\n                nData[i+1] = data[i2+1]\n                nData[i+2] = data[i2+2]\n                nData[i+3] = data[i2+3]\n            } else if(data[xyToIndex(x,y+1,imageData.width)+3] > 0){\n                let i2 = xyToIndex(x,y+1,imageData.width);\n                nData[i] = data[i2]\n                nData[i+1] = data[i2+1]\n                nData[i+2] = data[i2+2]\n                nData[i+3] = data[i2+3]\n            } else if(data[xyToIndex(x+1,y+1,imageData.width)+1] > 0){\n                let i2 = xyToIndex(x+1,y+1,imageData.width);\n                nData[i] = data[i2]\n                nData[i+1] = data[i2+1]\n                nData[i+2] = data[i2+2]\n                nData[i+3] = data[i2+3]\n            }\n        }\n    }\n\n\n    return newImageData\n}\n\nexport function rgbToHsl(r, g, b) {\n    r /= 255; g /= 255; b /= 255;\n  \n    var max = Math.max(r, g, b), min = Math.min(r, g, b);\n    var h, s, l = (max + min) / 2;\n  \n    if (max == min) {\n      h = s = 0; // achromatic\n    } else {\n      var d = max - min;\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n  \n      switch (max) {\n        case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n        case g: h = (b - r) / d + 2; break;\n        case b: h = (r - g) / d + 4; break;\n      }\n  \n      h /= 6;\n    }\n  \n    return [ h, s, l ];\n}\n\nexport function hslToRgb(h, s, l) {\n    var r, g, b;\n  \n    if (s == 0) {\n      r = g = b = l; // achromatic\n    } else {\n      function hue2rgb(p, q, t) {\n        if (t < 0) t += 1;\n        if (t > 1) t -= 1;\n        if (t < 1/6) return p + (q - p) * 6 * t;\n        if (t < 1/2) return q;\n        if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n      }\n  \n      var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      var p = 2 * l - q;\n  \n      r = hue2rgb(p, q, h + 1/3);\n      g = hue2rgb(p, q, h);\n      b = hue2rgb(p, q, h - 1/3);\n    }\n  \n    return [ r * 255, g * 255, b * 255 ];\n  }","import React, {useState} from 'react';\n\nconst SaveAndLoad = () => {\n\n    \n\n\n    return (\n        <div className=\"Save-And-Load Menu-Bar-Cont\">\n            <button>Save/Load</button>\n            <div className=\"Save-And-Load-Options\">\n                <button>Save Preset</button>\n            </div>\n        </div>\n    )\n}\n\nexport default SaveAndLoad;","\nimport { rgbToHsl, hslToRgb, lerp, rgbToHex, rndmInt, rndmSign } from \"./utils\"\n\n\nexport function invert(pixel){\n    let r = 255 - pixel[0]\n    let g = 255 - pixel[1]\n    let b = 255 - pixel[2]\n    let a = pixel[3]\n    return [Math.floor(r),Math.floor(g),Math.floor(b),Math.floor(pixel[3])];\n}\n\nexport function exposure(pixel,{value=40}){\n    let r = pixel[0] + value;\n    let g = pixel[1] + value;\n    let b = pixel[2] + value;\n    let a = pixel[3];\n    return [r,g,b,a]\n}\n\nexport function threshold(pixel,{cutoff=120}){\n    let avg = (pixel[0]+pixel[1]+pixel[2])/3;\n    if(avg > cutoff){\n        return [255,255,255, pixel[3]]\n    } else {\n        return [0,0,0,255, pixel[3]]\n    }\n}\n\nexport function gradientMap(pixel,{darkColor=[0,0,0],lightColor=[255,255,255]}){\n\n    // darkColor will replace the darkest parts of the original image, light will do the lightest\n\n    let avg = (pixel[0]+pixel[1]+pixel[2])/3\n    \n    let avgNormalized = avg/255;\n\n    let r = lerp(darkColor[0],lightColor[0],avgNormalized);\n    let g = lerp(darkColor[1],lightColor[1],avgNormalized);\n    let b = lerp(darkColor[2],lightColor[2],avgNormalized);\n\n    return [Math.floor(r),Math.floor(g),Math.floor(b),Math.floor(pixel[3])];\n\n}\n\nexport function noise(pixel,{max=50,monochromatic=true}){\n\n\n    if(monochromatic){\n        let rndmVal = rndmInt(max) * rndmSign()\n\n        let r = pixel[0] + rndmVal\n        let g = pixel[1] + rndmVal\n        let b = pixel[2] + rndmVal\n        return [Math.floor(r),Math.floor(g),Math.floor(b),Math.floor(pixel[3])];\n    } else {\n        let r = pixel[0] + (rndmInt(max) * rndmSign())\n        let g = pixel[1] + (rndmInt(max) * rndmSign())\n        let b = pixel[2] + (rndmInt(max) * rndmSign())\n\n        return [Math.floor(r),Math.floor(g),Math.floor(b),Math.floor(pixel[3])];\n    }\n    let r = pixel[0] + rndmInt(max)\n}\n\nexport function saturation(pixel,{amount=3}){\n\n    let r = pixel[0]\n    let g = pixel[1]\n    let b = pixel[2]\n    let grayVal = (r+g+b)/3\n\n    let blendR = lerp(grayVal,r,amount)\n    let blendG = lerp(grayVal,g,amount)\n    let blendB = lerp(grayVal,b,amount)\n\n    return [Math.floor(blendR),Math.floor(blendG),Math.floor(blendB),Math.floor(pixel[3])];\n}\n\nexport function hue(pixel,{value=0.5}){\n    \n    let [r,g,b] = pixel;\n    let [h,s,l] = rgbToHsl(r,g,b);\n\n    h += value;\n\n    let [r2,g2,b2] = hslToRgb(h,s,l);\n\n    // let r2 = Math.floor(r/120)*120;\n    // let g2 = Math.floor(g/120)*120;\n    // let b2 = Math.floor(b/120)*120;\n\n\n    return [r2,g2,b2,pixel[3]]\n}\n\n// export function simplifyColors(pixel, {amount=20}){\n\n// }\n\n\n","\nimport { xyToIndex, fillPixelRect, rndmInt, fillDisplacementGaps, dist } from \"./utils\";\n\nimport { mainImage } from \"./App\";\n\n\n\nexport function pixelate(imageData,{pixelWidth=12,pixelsPerRow}){\n\n    let data = imageData.data\n\n    let newImageData = new ImageData(imageData.width,imageData.height);\n    let nData = newImageData.data;\n    \n    let widthPerPixel = 8\n\n    if(pixelWidth){\n        widthPerPixel = pixelWidth\n    } else if (pixelsPerRow){\n        widthPerPixel = Math.floor(imageData.width/pixelsPerRow)\n    }\n\n    widthPerPixel = Math.floor(widthPerPixel * mainImage.drawResFactor)\n\n    // two for loops get position of every big pixel\n    for(var y=0;y<imageData.height;y+=widthPerPixel){\n        for(var x=0;x<imageData.width;x+=widthPerPixel){\n\n            let index = xyToIndex(x,y,imageData.width);\n            let bigPixelValues = [data[index],data[index+1],data[index+2],data[index+3]];\n            \n            fillPixelRect(newImageData,x,y,widthPerPixel,widthPerPixel,[...bigPixelValues])\n        }\n    }\n    \n    console.log(document.event)\n\n    return newImageData\n\n}\n\nexport function bitmap(imageData,{canvas,blockScaleFactor=2,randomPattern=false}){\n    let data = imageData.data;\n\n    let newImageData = new ImageData(imageData.width,imageData.height);\n    let nData = newImageData.data;\n\n\n    let pattern = [\n        0,8,2,10,\n        12,4,14,6,\n        13,11,1,9,\n        15,7,13,5\n    ]\n\n    blockScaleFactor = Math.floor(blockScaleFactor * mainImage.drawResFactor);\n\n    if(blockScaleFactor < 1){\n        blockScaleFactor = 1;\n    }\n\n    let patternW = Math.sqrt(pattern.length);\n\n\n    for(var y=0;y<imageData.height;y+=patternW*blockScaleFactor){\n        for(var x=0;x<imageData.width;x+=patternW*blockScaleFactor){\n\n            if(randomPattern){\n                pattern = []\n                let nums = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];\n                let len = nums.length;\n                for(var i=0;i<len;i++){\n                    let index = rndmInt(nums.length);\n                    pattern.push(nums[index]);\n                    nums.splice(index,1)\n                }\n            } \n\n\n            let index = xyToIndex(x,y,imageData.width);\n\n            let r = data[index];\n            let g = data[index+1];\n            let b = data[index+2];\n            let a = data[index+3];\n\n            let brightness = (r+g+b)/3\n\n            let mappedBrightness = Math.floor((brightness/255)*pattern.length);\n\n            let patternIndex = 0;\n\n            // if(y==0 && x<=20){\n            //     console.log('..........')\n            //     console.log(x,y)\n            //     console.log('brightness:', brightness)\n            //     console.log('mappedBrightness:', mappedBrightness)\n            // }\n            for(var y2=0; y2<(patternW*blockScaleFactor); y2+=blockScaleFactor){\n                for(var x2=0; x2<(patternW*blockScaleFactor); x2+=blockScaleFactor){\n\n                    if(pattern[patternIndex] < mappedBrightness){\n                        fillPixelRect(newImageData, x+x2, y+y2, blockScaleFactor, blockScaleFactor, [255,255,255,a])\n                    } else {\n                        fillPixelRect(newImageData, x+x2, y+y2, blockScaleFactor, blockScaleFactor, [0,0,0,a])\n\n                    }\n\n\n                    patternIndex++;\n                }\n            }\n\n        }\n\n    }\n\n\n\n    console.log('%cBITMAP COMPLETE','color:rgb(0,255,0)')\n\n    return newImageData;\n\n\n}\n\n\nexport function voronoi(imageData, {numOfPoints=120}){\n\n    let w = imageData.width;\n    let h = imageData.height;\n\n    let data = imageData.data;\n\n    let newImageData = new ImageData(imageData.width,imageData.height);\n    let nData = newImageData.data;\n\n    let grid = [];\n\n    let squaresPerSide = 10;\n\n    let squareW = Math.floor(w/squaresPerSide)\n    let squareH = Math.floor(h/squaresPerSide)\n\n    for(var i=0;i<squaresPerSide;i++){\n\n        let row = []\n\n        for(var j=0;j<squaresPerSide;j++){\n            row.push([])\n        }\n\n        grid.push(row)\n    }\n\n    console.log(grid)\n    \n\n    let points = [];\n\n\n\n    //generate points\n    for(var i=0;i<numOfPoints;i++){\n        let x = rndmInt(w);\n        let y = rndmInt(h);\n\n        let index = xyToIndex(x,y,w);\n        let color = {r:data[index],g:data[index+1],b:data[index+2],a:data[index+3]};\n\n        let gridX = Math.floor(x/squareW);\n        let gridY = Math.floor(y/squareH);\n\n        grid[gridX][gridY].push({x:x, y:y, r:color.r, g:color.g, b:color.b, a:color.a})\n\n        // points.push({x:x, y:y, r:color.r, g:color.g, b:color.b, a:color.a});\n    }\n\n    console.log(grid)\n\n    console.log(points)\n\n    for(var y=0;y<h;y++){\n        for(var x=0;x<w;x++){\n            let index = xyToIndex(x,y,w);\n\n            let closestDistYet = 2000;\n            let closestColor = [255,0,0,255];\n\n            let surroundingPoints = [];\n\n            let xOnGrid = Math.floor(x/squareW);\n            let yOnGrid = Math.floor(y/squareH);\n\n            \n            if(grid[xOnGrid][yOnGrid]){\n                console.log(grid[xOnGrid][yOnGrid])\n                surroundingPoints.push(...grid[xOnGrid][yOnGrid]);\n            }\n\n            if(x==20 && y==20){\n                console.log(surroundingPoints)\n            }\n\n            points.forEach(point => {\n                let distance = dist(x,y,point.x,point.y);\n                if(distance < closestDistYet){\n                    closestDistYet = distance;\n                    closestColor = [point.r,point.g,point.b,point.a];\n                }\n            })\n\n            nData[index] = closestColor[0];\n            nData[index+1] = closestColor[1];\n            nData[index+2] = closestColor[2];\n            nData[index+3] = closestColor[3];\n        }\n    }\n\n\n    return newImageData;\n    \n}","import { xyToIndex, fillDisplacementGaps } from \"./utils\";\n\nimport { mainImage } from \"./App\";\n\nexport function wave(imageData,{canvas,xAmplitude=20,xWavelength=120,xShift=0,yAmplitude=20,yWavelength=60,yShift=0,warp=true}){\n\n    let data = imageData.data;\n    \n    let newImageData = new ImageData(imageData.width,imageData.height);\n    let nData = newImageData.data;\n\n    xAmplitude = Math.floor( mainImage.drawResFactor * xAmplitude );\n    xWavelength = Math.floor( mainImage.drawResFactor * xWavelength );\n    xShift = Math.floor( mainImage.drawResFactor * xShift );\n    \n    yAmplitude = Math.floor( mainImage.drawResFactor * yAmplitude );\n    yWavelength = Math.floor( mainImage.drawResFactor * yWavelength );\n    yShift = Math.floor( mainImage.drawResFactor * yShift );\n\n    for(var y=0;y<imageData.height;y++){\n        for(var x=0;x<imageData.width;x++){\n\n            let x2, y2;\n\n            if(!warp) {\n                x2 = (x + (Math.sin(y/yWavelength)*yAmplitude))+yShift;\n                y2 = (y + (Math.sin(x/xWavelength)*xAmplitude))+xShift;\n            } else {\n                x2 = (x + (Math.sin(x/xWavelength)*xAmplitude))+xShift;\n                y2 = (y + (Math.sin(y/yWavelength)*yAmplitude))+yShift;\n            }\n\n            x2 = Math.floor(x2);\n            y2 = Math.floor(y2);\n\n            if(x2 > imageData.width){\n                x2 = x2 - imageData.width;\n            }\n            if(y2 > imageData.height){\n                y2 = y2 - imageData.height;\n            } else if (y2 < 0){\n                y2 = y2 + imageData.height;\n            }\n\n            if(x == 200 && y == 200){\n                console.log(\">>>>>>>\",x,y);\n                console.log(\"=======\",x2,y2);\n            }\n\n            let offsetI = xyToIndex(x2,y2,imageData.width);\n\n            let currentPixelI = xyToIndex(x,y,imageData.width);\n            let cpi = currentPixelI;\n\n            nData[cpi] = data[offsetI];\n            nData[cpi+1] = data[offsetI+1];\n            nData[cpi+2] = data[offsetI+2];\n            nData[cpi+3] = data[offsetI+3];\n\n\n\n        }\n    }\n\n    return newImageData;\n\n}\n\n// export function wave(imageData,{canvas,xAmplitude=20,xWavelength=120,xShift=0,yAmplitude=20,yWavelength=60,yShift=0,warp=true}){\n\n\n//     // if warp is false then it distorys\n//     let data = imageData.data\n\n//     let newImageData = new ImageData(imageData.width,imageData.height);\n//     let nData = newImageData.data;\n\n//     xAmplitude = Math.floor( mainImage.drawResFactor * xAmplitude );\n//     xWavelength = Math.floor( mainImage.drawResFactor * xWavelength );\n//     xShift = Math.floor( mainImage.drawResFactor * xShift );\n    \n//     yAmplitude = Math.floor( mainImage.drawResFactor * yAmplitude );\n//     yWavelength = Math.floor( mainImage.drawResFactor * yWavelength );\n//     yShift = Math.floor( mainImage.drawResFactor * yShift );\n\n\n//     for(var y=0;y<imageData.height;y++){\n//         for(var x=0;x<imageData.width;x++){\n//             let i1 = xyToIndex(x,y,imageData.width);\n\n//             let r = data[i1];\n//             let g = data[i1+1];\n//             let b = data[i1+2];\n//             let a = data[i1+3];\n\n//             let x2, y2;\n\n//             if(!warp) {\n//                 x2 = (x + (Math.sin(y/yWavelength)*yAmplitude))+yShift;\n//                 y2 = (y + (Math.sin(x/xWavelength)*xAmplitude))+xShift;\n//             } else {\n//                 x2 = (x + (Math.sin(x/xWavelength)*xAmplitude))+xShift;\n//                 y2 = (y + (Math.sin(y/yWavelength)*yAmplitude))+yShift;\n//             }\n\n//             x2 = Math.floor(x2)\n//             y2 = Math.floor(y2)\n\n//             if(x2 > imageData.width){\n//                 x2 -= imageData.width\n//             } else  if (x2 < 0){\n//                 x2 += imageData.width\n//             }\n\n//             if(y2 > imageData.height){\n//                 y2 -= imageData.height\n//             } else if (y2 < 0){\n//                 y2 += imageData.height\n//             }\n\n//             let i2 = xyToIndex(x2,y2,imageData.width);\n \n//             nData[i2] = r\n//             nData[i2+1] = g\n//             nData[i2+2] = b\n//             nData[i2+3] = a\n\n//             if(x==20 && y==20){\n//                 console.log(i1)\n//                 console.log(x,y)\n//                 console.log(x2,y2)\n//                 console.log(i2)\n//             }\n            \n//         }\n//     }\n\n    \n//     newImageData = fillDisplacementGaps(newImageData)\n//     newImageData = fillDisplacementGaps(newImageData)\n\n\n//     console.log(newImageData)\n//     return newImageData\n// }\n\n\n// export function RGBOffset(imageData,{}){\n\n// }","\nimport { act } from \"@testing-library/react\";\nimport { invert } from \"./pixelFilters\";\nimport * as pixelFilters from './pixelFilters';\nimport * as blockFilters from './blockFilters';\nimport * as displacementFilters from './displacementFilters';\n\nimport * as cnsl from './consoleUtils'\n\nexport class Image {\n    constructor(){\n        this.canvas = null;\n        this.w = 400;\n        this.h = 400;\n        this.image = null;\n        this.activeFilters = [];\n        this.filtersCompiled = [];\n        this.renderWorkers = [];\n        this.drawCountdown = 500;\n        this.drawInterval = null;\n        this.drawResFactor = 0.5;\n\n\n    }\n\n    init(canvas){\n\n        console.log('%cV 1.2','background-color:#ff00ff;padding:24px 48px 24px 48px;color:black')\n\n        this.canvas = canvas\n        console.log('%c Initializing Image Object','background-color:orange;color:black')\n        console.log('%c                             ','background-color: orange;color:black;width:200px;white-space:prewrap;')\n        console.log(this);\n        console.log('%c                             ','background-color: orange;color:black;width:200px;white-space:prewrap')\n\n        this.ctx = this.canvas.getContext('2d');\n\n        this.setCanvas();\n\n        let numOfWorkers = 4;\n        this.renderWorkers = [];\n\n        // this.addFilter(new ByPixelFilter(pixelFilters.invert,{}));\n        // this.addFilter(new ByPixelFilter(pixelFilters.exposure,{value:30}));\n        // this.addFilter(new ByPixelFilter(pixelFilters.threshold,{cutoff:200}));\n        // this.addFilter(new ByPixelFilter(pixelFilters.gradientMap,{lightColor:[255,0,0],darkColor:[0,0,50]}));\n        // this.addFilter(new ByPixelFilter(pixelFilters.saturation,{amount:10}));\n        // this.addFilter(new ByPixelFilter(pixelFilters.noise,{max:100,monochromatic:false}));\n\n        // this.addFilter(new ByBlockFilter(displacementFilters.wave,{canvas:this.canvas,xAmplitude:200,xWavelength:120,yAmplitude:12,yWavelength:200}));\n        // this.addFilter(new ByBlockFilter(blockFilters.voronoi,{numOfPoints:124}));\n        // this.addFilter(new ByBlockFilter(blockFilters.bitmap,{canvas:this.canvas,blockScaleFactor:4}))\n        // this.addFilter(new ByPixelFilter(pixelFilters.gradientMap,{darkColor:[0,0,100],lightColor:[255,240,255]}))\n\n        console.log('%cTHIS.IMAGE --------------','color:orange');\n        console.log(this.image);\n        console.log('%c ------------------------','color:orange')\n\n        this.compileFilters()\n\n        if(this.image){\n            this.draw()\n        }\n    }\n\n    // startDrawCountdown(){\n    //     this.drawInterval = setInterval(() => {\n    //         this.drawCountdown -= 10;\n\n    //         if(this.drawCountdown < )\n    //     },10)\n    // }\n\n    clearFilters(){\n        this.filters = [];\n    }\n\n    addFilter(activeFilter){\n        console.log('ADDING FILTER')\n        this.activeFilters.push(activeFilter);\n        this.compileFilters()\n    }\n    \n    removeFilter(filterIndex){\n        this.activeFilters.splice(filterIndex,1);\n        this.compileFilters();\n    }\n\n    compileFilters(){\n        this.filtersCompiled = [];\n\n        \n        // goes through every active filter\n            // if filter is byPixel it batches them together because they can be run in sequence for each pixel (don't need to loop through for every byPixelFilter)\n            // if filter is byBlock it pushes array of the previously batched pixel filters in filtersCompiled and then pushes itself into filtersCompiled\n        let byPixelFilterBatch = [];\n        \n        this.activeFilters.forEach(filter => {\n            console.log(filter)\n            let type = filter.type;\n\n            if(!filter.active){\n                return;\n            }\n\n            if(type == \"ByPixelFilter\"){\n                byPixelFilterBatch.push(filter)\n            } else if (type == \"ByBlockFilter\"){\n                if(byPixelFilterBatch.length > 0){\n                    this.filtersCompiled.push(byPixelFilterBatch);\n                    byPixelFilterBatch = [];\n                }\n\n                this.filtersCompiled.push(filter)\n            }\n        })\n\n        if(byPixelFilterBatch.length > 0){\n            this.filtersCompiled.push(byPixelFilterBatch);\n            byPixelFilterBatch = []\n        }\n        \n    }\n\n\n    setImage(img){\n        console.log('%c Image Set','color:orange')\n        this.image = img;\n\n        this.canvas.style.width = '50vw';\n\n        let imgStyles = getComputedStyle(this.image);\n\n        let w = imgStyles.width;\n        let h = imgStyles.height;\n\n        let totalPixels = w*h;\n\n\n        this.setCanvas();\n        this.draw();\n    }\n\n    setCanvas(){\n\n        if(this.image){\n\n            this.w = this.image.width*this.drawResFactor;\n            this.h = this.image.height*this.drawResFactor;\n\n            this.canvas.width = this.w;\n            this.canvas.height = this.h;\n\n        } else {\n            this.canvas.width = this.w;\n            this.canvas.height = this.h;\n\n        }\n    \n        // this.canvas.style.width = \"50vw\"\n\n    }\n\n    drawDefault(){\n        this.ctx.fillStyle = 'rgb(170,170,170)';\n        this.ctx.beginPath();\n        this.ctx.fillRect(0,0,this.w,this.h);\n        this.ctx.closePath()\n    }\n\n    draw(finalRender){\n\n        // console.log(this.w,this.h)\n\n        if(!this.image){\n            return\n        }\n\n        this.compileFilters()\n\n        let performanceStart = performance.now()\n        console.log('%c DRAWIMG IMAGE','color:orange;')\n        this.ctx.beginPath();\n        this.ctx.fillStyle = `rgb(${Math.floor(Math.random()*255)},${Math.floor(Math.random()*255)},${Math.floor(Math.random()*255)})`\n        this.ctx.fillRect(0,0,this.image.width,this.image.height);\n        this.ctx.closePath();\n\n        this.ctx.drawImage(this.image,0,0,this.w,this.h);\n\n\n\n        if(this.filtersCompiled.length > 0){\n            console.log('COMPILED FILTERS FOUND')\n            let filteredData = this.applyFilters();\n            // console.log(filteredData)\n            this.ctx.putImageData(filteredData,0,0)\n        } else {\n            console.log('NO COMPILED FILTERS FOUND')\n        }\n\n        let performanceStop = performance.now();\n        console.log(`%cIMAGE DRAWN WITH ${this.activeFilters.length} FILTERS \\n IN ${(performanceStop-performanceStart)/1000} SECONDS`,'background-color:yellow;color:black;padding:3px')\n    }\n\n    applyFilters(){\n        // let data = imageData.data;\n        console.log('%cAPPLYING FILTERS','background-color:#00ff00')\n        let imageData = this.ctx.getImageData(0,0,this.w,this.h)\n\n        //previous val will be the imageData provided as a reduce argument in first iteration, after that it will be image data returned from previous interation\n            // reducer function will always return the imageData\n        //current val will be the current grouping\n        \n        const reducerFunction = (previousVal,currentVal) => {\n\n            console.log('%cREDUCER FUNCTION REDUCING','color:#00ff00');\n\n            let newImageData = previousVal;\n            let newData = newImageData.data;\n\n            if(currentVal instanceof Array){\n                for(var i=0;i<newData.length;i+=4){\n                    let pixel = [newData[i],newData[i+1],newData[i+2],newData[i+3]];\n\n                    currentVal.forEach(filter => {\n                        pixel = filter.operation(pixel,filter.options)\n                    })\n\n\n                    newData[i] = pixel[0]\n                    newData[i+1] = pixel[1]\n                    newData[i+2] = pixel[2]\n                    newData[i+3] = pixel[3]\n                    \n                }\n\n                return newImageData;\n\n            } else {\n\n                let blockFilteredData = currentVal.operation(newImageData,currentVal.options)\n\n                return blockFilteredData\n            }\n\n        }\n\n\n\n        return this.filtersCompiled.reduce(reducerFunction,imageData)\n\n\n    }\n\n    exportImage(filename,scale,format,jpegQuality){\n        console.log('%cEXPORTING IMAGE','background-color:orange;color:black');\n\n        let prevResFacSave = this.drawResFactor;\n\n        this.drawResFactor = scale/100;\n        this.setCanvas()\n        // console.log(this.drawResFactor)\n        this.draw()\n\n        this.renderToImg(filename,format,jpegQuality);\n\n        this.drawResFactor = prevResFacSave;\n        this.setCanvas();\n        this.draw();\n    }\n\n    renderToImg(filename,format,jpegQuality){\n\n\n        let prevImg = document.querySelector('#draw-output')\n        if(prevImg){\n            prevImg.remove();\n        }\n\n        let imageElem = document.createElement('img');\n        imageElem.id = \"draw-output\";\n        imageElem.style.display = 'none';\n        \n        let blob;\n\n        function blobCallback(blob){\n            let a = document.createElement('a');\n            a.style.display = 'none';\n\n            let url = window.URL.createObjectURL(blob);\n            a.href = url;\n            a.download = filename\n            a.click();\n        }\n\n        if(format == 'jpeg'){\n            this.canvas.toBlob(blobCallback,'image/jpeg',jpegQuality);\n        } else {\n            this.canvas.toBlob(blobCallback,'image/png');\n        }\n\n    \n        // let url = window.URL.createObjectURL(blob);\n        // console.log(url)\n\n        // imageElem.src = blob;\n\n        // document.querySelector('.App').appendChild(imageElem)\n\n        // console.log(imageElem)\n    }\n\n\n}\n\nexport const sizeCanv = (img,canv) => {\n    canv.width = img.width;\n    canv.height = img.height;\n\n    if(img.width >= img.height){\n        canv.style.width = \"60vw\"\n        canv.style.height = \"auto\"\n    } else {\n        canv.style.height = \"60vw\"\n        canv.style.width = \"auto\"\n\n    }\n}\n\n \n\n\nexport class ByPixelFilter{\n    constructor(operation,name,options){\n        this.operation = operation;\n        this.name = name;\n        this.options = options;\n        this.active = true;\n        this.type = \"ByPixelFilter\";\n    }\n}\n\nexport class ByBlockFilter{\n    constructor(operation,name,options){\n        this.operation = operation;\n        this.name = name;\n        this.options = options;\n        this.active = true;\n        this.type = \"ByBlockFilter\";\n    }\n\n}","import React from \"react\";\n\n\nconst FilterOption = ({handler,title,filter,name,defaultOptions}) => {\n\n    return (\n        <p data-filter={name} data-options={defaultOptions} className=\"Filter-Option\" onMouseDown={handler}>{title}</p>\n    )\n}\n\nexport default FilterOption","import React, {useState, useEffect} from \"react\";\n\n\nimport { ByBlockFilter, ByPixelFilter } from \"../ImageFunctions\";\nimport { invert, exposure, saturation, gradientMap, noise, threshold, hue } from '../pixelFilters';\nimport { pixelate, bitmap } from \"../blockFilters\";\nimport { wave } from \"../displacementFilters\";\n\nimport { mainImage } from \"../App\";\n\nimport FilterOption from \"./FilterOption\";\n\nconst AddFilter = ({refreshApp}) => {\n\n    const [expanded,setExpanded] = useState(false);\n    const [width,setWidth] = useState('100%');\n    const [height,setHeight] = useState(0);\n    const [padding,setPadding] = useState(0);\n\n    const handleExpand = () => {\n        if(expanded){\n            setWidth('100%')\n            setHeight(0)\n            setPadding(0)\n            document.querySelector('.AF-Button').textContent = \"Filters +\"\n            setExpanded(false)\n        } else {\n            setWidth('100%');\n            setHeight('auto');\n            setPadding(24);\n            document.querySelector('.AF-Button').textContent = \"Filters -\"\n            // setTop('0px');\n            // setLeft('0px')\n            setExpanded(true);\n        }\n    }\n\n    const handleFilterOption = (e) => {\n        console.log(e.target.dataset.filter)\n        handleExpand()\n\n        let allFilters = [invert,exposure,saturation,gradientMap,noise,threshold,pixelate,bitmap,wave,hue];\n\n        let filterNames = [\"invert\",\"exposure\",\"saturation\",\"gradientMap\",\"noise\",\"threshold\",\"pixelate\",\"bitmap\",\"wave\",\"hue\"];\n\n        console.log(e.target.dataset)\n        let defaultOptions = JSON.parse(e.target.dataset.options)\n        allFilters.forEach((filter,index) => {\n\n            if(e.target.dataset.filter == filterNames[index]){\n                let tc = e.target.textContent.toLowerCase()\n                console.log('FILTER MATCHED = ' + filterNames[index]);\n                if(tc == 'bitmap' || tc == 'pixelate' || tc=='wave'){\n                    mainImage.addFilter(new ByBlockFilter(filter,filterNames[index],{...defaultOptions}))\n                } else {\n                    mainImage.addFilter(new ByPixelFilter(filter,filterNames[index],{...defaultOptions}))\n\n                }\n                console.log(mainImage.activeFilters)\n            }\n        })\n\n        refreshApp()\n\n \n    }\n\n    \n    // let borderRadius;\n    \n    // useEffect(() => {\n    //     console.log(document.querySelector('.Add-Filter-Button'))\n    //     borderRadius = getComputedStyle(document.querySelector('.AF-Button')).borderRadius;\n    //     console.log(borderRadius)\n    // })\n\n    return (\n        <div className=\"Add-Filter Menu-Bar-Cont\">\n            <div className=\"Add-Filter-Button\">\n                <button className=\"AF-Button Menu-Bar-Button\" onMouseDown={handleExpand}>Filters +</button>\n            </div>\n            <div style={{width:width,height:height,paddingBottom:padding,paddingTop:padding*2}} className=\"Add-Filter-Options\">\n                <FilterOption handler={handleFilterOption} filter={exposure} name=\"exposure\" title={'Exposure'} defaultOptions={JSON.stringify({value:40})}/>\n                {/* <FilterOption handler={handleFilterOption} filter={hue} name=\"hue\" title={'Hue'} defaultOptions={JSON.stringify({value:40})}/> */}\n                <FilterOption handler={handleFilterOption} filter={invert} name=\"invert\" title={'Invert'} defaultOptions={JSON.stringify({filler:1})}/>\n                <FilterOption handler={handleFilterOption} filter={noise} name=\"noise\" title={'Noise'} defaultOptions={JSON.stringify({max:100,monochromatic:true})}/>\n                <FilterOption handler={handleFilterOption} filter={pixelate} name=\"pixelate\" title={'Pixelate'} defaultOptions={JSON.stringify({pixelWidth:12})}/>\n                <FilterOption handler={handleFilterOption} filter={saturation} name=\"saturation\" title={'Saturation'} defaultOptions={JSON.stringify({amount:3})}/>\n                <FilterOption handler={handleFilterOption} filter={threshold} name=\"threshold\" title={'Threshold'} defaultOptions={JSON.stringify({cutoff:120})}/>\n                <FilterOption handler={handleFilterOption} filter={wave} name=\"wave\" title={'Wave'} defaultOptions={JSON.stringify({xAmplitude:20,xWavelength:120,xShift:0,yAmplitude:20,yWavelength:60,yShift:0,warp:false})}/>\n                <FilterOption handler={handleFilterOption} filter={bitmap} name=\"bitmap\" title={'Bitmap'} defaultOptions={JSON.stringify({blockScaleFactor:4,randomPattern:false})} />\n            </div>\n        </div>\n    )\n};\n\nexport default AddFilter\n\n","import React, {useState} from 'react';\n\nimport { mainImage } from '../App';\n\nconst PreviewRes = ({refreshApp}) => {\n\n    const [ previewRes,setPreviewRes ] = useState(mainImage.drawResFactor);\n\n    const [ optionsExpanded, setOptionsExpanded ] = useState(false);\n\n    const handleExpandButton = (e) => {\n        setOptionsExpanded(!optionsExpanded);\n    }\n\n    const handleResButton = (e) => {\n        let buttonVal = e.target.dataset.val;\n        setPreviewRes(parseFloat(buttonVal));\n        setOptionsExpanded(false);\n\n        mainImage.drawResFactor = buttonVal;\n        refreshApp();\n    }\n\n    return (\n        <div className=\"Preview-Res Menu-Bar-Cont\">\n            <div className=\"Res-Button-Cont\">\n                <button className=\"Menu-Bar-Button\" onMouseDown={handleExpandButton}>Preview Resolution: {previewRes}x\n                    {/* <span>{previewRes}x</span> */}\n                </button>\n            </div>\n            <div className={`Res-Options-Cont ${optionsExpanded ? \"Res-Options-Expanded-True\" : \"Res-Options-Expanded-False\"}`}>\n                <button onMouseDown={handleResButton} data-val=\"1\" >1x</button>\n                <button onMouseDown={handleResButton} data-val=\"0.5\" >0.5x</button>\n                <button onMouseDown={handleResButton} data-val=\"0.25\" >0.25x</button>\n                <button onMouseDown={handleResButton} data-val=\"0.1\" >0.1x</button>\n                {/* <button data-val=\"1\" >1x</button> */}\n            </div>\n            {/* <input type=\"\" */}\n        </div>\n    )\n}\n\nexport default PreviewRes","import React, {useState} from 'react';\n\nimport { mainImage } from '../App';\n\nconst ExportButton = ({setDisplay}) => {\n\n    const handleMouseDown = () => {\n\n        if(mainImage.image){\n            setDisplay('flex')\n        } else {\n            alert('An image must be uploaded to export.')\n        }\n    }\n\n    return (\n        <div className=\"Export-Cont Menu-Bar-Cont\">\n            <button className=\"Menu-Bar-Button\" onMouseDown={handleMouseDown}>Export</button>\n        </div>\n    )\n}\n\nexport default ExportButton;","import React from 'react';\n\nconst InfoButton = ({handler}) => {\n\n    const handleClick = () => {\n        handler('flex');\n    }\n\n    return (\n        <div className=\"Info-Button\">\n            <button onMouseDown={handleClick}>?</button>\n        </div>\n    )\n}\n\nexport default InfoButton;","import React from \"react\";\nimport { easeOut, lerp } from \"../utils\";\nimport Canvas from \"./Canvas\";\n\nimport FileUpload from \"./FileUpload\";\nimport SaveAndLoad from \"./SaveAndLoad\"\n\nimport AddFilter from \"./AddFilter\";\nimport PreviewRes from \"./PreviewRes\";\nimport ExportButton from \"./ExportButton\";\n\nimport InfoButton from \"./InfoButton\";\n\n\n\nconst ImageDisplay = ({refreshApp, setExportDisplay, setInfoDisplay}) => {\n\n\n    const handleZoom = (e) => {\n\n        if(e.target.id == 'zoomIn'){\n            zoom(1.5,500);\n        } else {\n            zoom(0.66,500);\n        }\n    }\n\n    const zoom = (amount,duration) => {\n\n                \n        let canvas = document.querySelector('.imageCanv');\n        let canvasWidth = getComputedStyle(canvas).width;\n        let w = parseInt(canvasWidth.split('px')[0]);\n\n        let targetW = w * amount;\n\n        canvas.style.width = targetW + \"px\";\n                \n\n    }\n\n\n\n    return (\n        <div className=\"Image-Display\">\n            <div className=\"Menu-Bar\">\n                {/* <SaveAndLoad /> */}\n                <ExportButton setDisplay={setExportDisplay}/>\n                <AddFilter refreshApp={refreshApp} />\n                <PreviewRes refreshApp={refreshApp}/>\n            </div>\n            <div className=\"Image-Cont flex-center\">\n                <Canvas />\n            </div>\n            <div className=\"Zoom-Cont\">\n                <button id=\"zoomIn\" onMouseDown={handleZoom}>+</button>\n                <button id=\"zoomOut\" onMouseDown={handleZoom}>-</button>\n            </div>\n            <InfoButton handler={setInfoDisplay} />\n\n        </div>\n    )\n}\n\nexport default ImageDisplay","import React, {useState} from \"react\";\n\n\nimport { mainImage } from \"../../App\";\n\nconst InvertCard = ({filter,filterIndex,refreshApp}) => {\n\n    const [filterActive,setFilterActive] = useState(filter.active)\n\n    const handleDisplayCheck = (e) => {\n        if(e.target.checked){\n            filter.active = true;\n        } else {\n            filter.active = false; \n        }\n        \n        mainImage.draw()\n    }\n\n    const handleXOut = (e) => {\n        mainImage.activeFilters.splice(filterIndex,1);\n        mainImage.compileFilters();\n\n        refreshApp()\n    }\n\n    return (\n        <div className=\"Filter-Card Invert-Filter-Card\">\n            <button onMouseDown={handleXOut} className=\"x-out\">x</button>\n            <span>\n                <div className=\"Display-Check-Cont\">\n                    <input onChange={handleDisplayCheck} type=\"checkbox\" defaultChecked={filterActive}/>\n                </div>\n                <h3>Invert</h3>\n            </span>\n        </div>\n    )\n}\n\nexport default InvertCard","import React, {useEffect, useRef, useState} from \"react\";\n\nconst Slider = ({handler,max,min,step,value,title}) => {\n\n    const [displayVal, setDisplayVal] = useState(value)\n\n\n\n    const sliderChange = (e) => {\n        setDisplayVal(e.target.value);\n    }\n\n\n\n    return (\n        <div className=\"Slider\">\n            <div>\n                <input defaultValue={displayVal} onMouseUp={handler} onChange={sliderChange} max={max} min={min} step={step} type=\"range\"></input>\n                <p className=\"Slider-Value-Display\">{displayVal}</p>\n            </div>\n            <p>{title}</p>\n        </div>\n    )\n}\n\nexport default Slider;","import React, {useState} from \"react\";\n\n\nimport { mainImage } from \"../../App\";\n\nimport Slider from \"../Slider\";\n\nconst SaturationCard = ({filter,filterIndex,refreshApp}) => {\n\n    const [filterActive,setFilterActive] = useState(filter.active)\n\n    const handleDisplayCheck = (e) => {\n        if(e.target.checked){\n            filter.active = true;\n        } else {\n            filter.active = false; \n        }\n        \n        mainImage.draw()\n    }\n\n\n    const handleSliderChange = (e) => {\n        filter.options.amount = e.target.value;\n        mainImage.draw()\n    }\n\n    const handleXOut = (e) => {\n        mainImage.activeFilters.splice(filterIndex,1);\n        mainImage.compileFilters();\n\n        refreshApp()\n    }\n\n    return (\n        <div className=\"Filter-Card Saturation-Filter-Card\">\n            <button onMouseDown={handleXOut} className=\"x-out\">x</button>\n            <span>\n                <div className=\"Display-Check-Cont\">\n                    <input onChange={handleDisplayCheck} type=\"checkbox\" defaultChecked={filterActive}/>                </div>\n                <h3>Saturate</h3>\n            </span>\n            <Slider handler={handleSliderChange} max={10} min={0} step={1} value={2} />\n        </div>\n    )\n}\n\nexport default SaturationCard;","import React, {useState} from \"react\";\n\nimport Slider from \"../Slider\";\n\nimport { mainImage } from \"../../App\";\n\nconst NoiseCard = ({filter,filterIndex,refreshApp}) => {\n\n    const [filterActive,setFilterActive] = useState(filter.active);\n    const [monochr,setMonochr] = useState(filter.options.monochromatic);\n\n    const handleDisplayCheck = (e) => {\n        if(e.target.checked){\n            filter.active = true;\n        } else {\n            filter.active = false; \n        }\n        \n        mainImage.draw()\n    }\n\n    const handleMonoCheck = (e) => {\n        console.log(e.target.checked)\n        setMonochr(e.target.checked)\n        filter.options.monochromatic = !monochr;\n\n        console.log('%cMONOCHROMATIC STATUS','color:red');\n        console.log('monochr state: ');\n        console.log(monochr);\n        console.log('filter.options.monochromatic:');\n        console.log(filter.options.monochromatic)\n\n        mainImage.draw()\n    }\n\n    const handleSliderChange = (e) => {\n        filter.options.max = e.target.value;\n\n        console.log('%cMONOCHROMATIC STATUS','color:red');\n        console.log('monochr state: ');\n        console.log(monochr);\n        console.log('filter.options.monochromatic:');\n        console.log(filter.options.monochromatic)\n\n        mainImage.draw()\n    }\n\n    const handleXOut = (e) => {\n        mainImage.activeFilters.splice(filterIndex,1);\n        mainImage.compileFilters();\n\n        refreshApp()\n    }\n\n    return (\n        <div className=\"Filter-Card Noise-Filter-Card\">\n            <button onMouseDown={handleXOut} className=\"x-out\">x</button>\n            <span>\n                <div className=\"Display-Check-Cont\">\n                    <input onChange={handleDisplayCheck} type=\"checkbox\" defaultChecked={filterActive}/>                </div>\n                <h3>Noise</h3>\n            </span>\n            <Slider handler={handleSliderChange} max={255} min={0} step={1} value={50} title={\"Amount\"}/>\n            <div className=\"Checkbox-Cont\">\n                <input type=\"checkbox\" onChange={handleMonoCheck} checked={monochr}/>\n                <p>Monochromatic Noise</p>\n            </div>\n        </div>\n    )\n}\n\nexport default NoiseCard","import React, {useState} from \"react\";\n\n\nimport { mainImage } from \"../../App\";\n\nimport Slider from \"../Slider\";\n\nconst ExposureCard = ({filter,filterIndex,refreshApp}) => {\n\n    const [filterActive,setFilterActive] = useState(filter.active)\n\n    const handleDisplayCheck = (e) => {\n        if(e.target.checked){\n            filter.active = true;\n        } else {\n            filter.active = false; \n        }\n        \n        mainImage.draw()\n    }\n\n\n    const handleSliderChange = (e) => {\n        filter.options.value = parseInt(e.target.value);\n        mainImage.draw()\n    }\n\n    const handleXOut = (e) => {\n        mainImage.activeFilters.splice(filterIndex,1);\n        mainImage.compileFilters();\n\n        refreshApp()\n    }\n\n    return (\n        <div className=\"Filter-Card Saturation-Filter-Card\">\n            <button onMouseDown={handleXOut} className=\"x-out\">x</button>\n            <span>\n                <div className=\"Display-Check-Cont\">\n                    <input onChange={handleDisplayCheck} type=\"checkbox\" defaultChecked={filterActive}/>\n                </div>\n                <h3>Exposure</h3>\n            </span>\n            <Slider handler={handleSliderChange} max={255} min={-255} step={1} value={filter.options.value} title={\"Value\"} />\n        </div>\n    )\n}\n\nexport default ExposureCard;","import React, {useState} from \"react\";\n\n\nimport { mainImage } from \"../../App\";\n\nimport Slider from \"../Slider\";\n\nconst ThresholdCard = ({filter,filterIndex,refreshApp}) => {\n\n    const [filterActive,setFilterActive] = useState(filter.active)\n\n    const handleDisplayCheck = (e) => {\n        if(e.target.checked){\n            filter.active = true;\n        } else {\n            filter.active = false; \n        }\n        \n        mainImage.draw()\n    }\n\n\n\n    const handleSliderChange = (e) => {\n        filter.options.cutoff = parseInt(e.target.value);\n        mainImage.draw()\n    }\n    \n    const handleXOut = (e) => {\n        mainImage.activeFilters.splice(filterIndex,1);\n        mainImage.compileFilters();\n\n        refreshApp()\n    }\n\n    return (\n        <div className=\"Filter-Card Saturation-Filter-Card\">\n            <button onMouseDown={handleXOut} className=\"x-out\">x</button>\n            <span>\n                <div className=\"Display-Check-Cont\">\n                    <input onChange={handleDisplayCheck} type=\"checkbox\" defaultChecked={filterActive}/>                </div>\n                <h3>Threshold</h3>\n            </span>\n            <Slider handler={handleSliderChange} max={255} min={0} step={1} value={filter.options.cutoff} title={\"Cutoff Value\"} />\n        </div>\n    )\n}\n\nexport default ThresholdCard;","import React, {useState} from \"react\";\nimport { mainImage } from \"../App\";\n\n\n// -------------\n// Countdown that waits 500 miliseconds since \nlet timeRemaining = 250;\n\nlet countdown = null;\n\nfunction startCountdown(){\n    \n    if(countdown){\n        return;\n    }\n    \n    countdown = setInterval(() => {\n        timeRemaining -= 10;\n        \n        if(timeRemaining < 0){\n            clearInterval(countdown);\n            console.log('!!!!!!!! HEY !!!!!!!!!')\n            timeRemaining = 250;\n            countdown = null;\n            \n            mainImage.draw();\n        }\n        \n    },10)\n}\n// -------------\n\n\nconst ColorInput = ({title,value,handler}) => {\n\n    const [colorVal, setColorVal] = useState(value);\n\n    const colorChange = (e) => {\n\n        timeRemaining = 250;\n\n        \n        startCountdown();\n        handler(colorVal)\n        \n        setColorVal(e.target.value);\n    }\n\n    return (\n        <div className=\"Color-Input\">\n            <input value={colorVal} onChange={colorChange} type=\"color\" />\n        </div>\n    )\n}\n\nexport default ColorInput","import React, {useState} from \"react\";\n\nimport ColorInput from \"../ColorInput\";\n\nimport { rgbToHex, hexToRgb } from \"../../utils\";\nimport { mainImage } from \"../../App\";\n\nconst GradientMapCard = ({filter,filterIndex,refreshApp}) => {\n\n    const [filterActive,setFilterActive] = useState(filter.active)\n\n    const [darkVal,setDarkVal] = useState(rgbToHex(filter.options.darkColor))\n    const [lightVal,setLightVal] = useState(rgbToHex(filter.options.lightColor))\n\n\n    const handleDisplayCheck = (e) => {\n        if(e.target.checked){\n            filter.active = true;\n        } else {\n            filter.active = false; \n        }\n        \n        mainImage.draw()\n    }\n\n    const handleDarkColorInput = (value) => {\n        setDarkVal(value);\n\n        filter.options.darkColor = hexToRgb(darkVal)\n\n        // mainImage.draw()\n    }\n    \n    const handleXOut = (e) => {\n        mainImage.activeFilters.splice(filterIndex,1);\n        mainImage.compileFilters();\n\n        refreshApp()\n    }\n\n    return (\n        <div className=\"Filter-Card Invert-Filter-Card\">\n            <button onMouseDown={handleXOut} className=\"x-out\">x</button>\n            <span>\n                <div className=\"Display-Check-Cont\">\n                    <input onChange={handleDisplayCheck} type=\"checkbox\" defaultChecked={filterActive}/>                </div>\n                <h3>Gradient Map</h3>\n            </span>\n            <br/>\n            <ColorInput title={\"Dark Color\"} value={darkVal} handler={handleDarkColorInput}/>\n            {/* <ColorInput title={\"Light Color\"} value={rgbToHex(filter.options.lightColor)} handler/> */}\n        </div>\n    )\n}\n\nexport default GradientMapCard","import React, {useState} from \"react\";\n\n\nimport { mainImage } from \"../../App\";\n\nimport Slider from \"../Slider\";\n\nconst BitmapCard = ({filter,filterIndex,refreshApp}) => {\n\n    const [filterActive,setFilterActive] = useState(filter.active);\n\n    const [randomBitmap,setRandomBitmap] = useState(filter.options.randomPattern)\n\n    const handleDisplayCheck = (e) => {\n        if(e.target.checked){\n            filter.active = true;\n        } else {\n            filter.active = false; \n        }\n        \n        mainImage.draw()\n    }\n\n    const handleRandomCheck = (e) => {\n        filter.options.randomPattern = e.target.checked;\n        mainImage.draw()\n    }\n\n\n\n    const handleSliderChange = (e) => {\n        filter.options.blockScaleFactor = parseInt(e.target.value);\n        mainImage.draw()\n    }\n\n    const handleXOut = (e) => {\n        mainImage.activeFilters.splice(filterIndex,1);\n        mainImage.compileFilters();\n\n        refreshApp()\n    }\n\n    return (\n        <div className=\"Filter-Card Saturation-Filter-Card\">\n            <button onMouseDown={handleXOut} className=\"x-out\">x</button>\n            <div className=\"Display-Check-Cont\">\n                    <input onChange={handleDisplayCheck} type=\"checkbox\" defaultChecked={filterActive}/>\n            </div>\n            <span>\n                <h3>Bitmap</h3>\n            </span>\n            <Slider handler={handleSliderChange} max={24} min={1} step={1} value={filter.options.blockScaleFactor} title={'Scaling Factor'} />\n            <div className=\"Checkbox-Cont\">\n                <input type=\"checkbox\" onChange={handleRandomCheck} defaultChecked={randomBitmap}/>\n                <p>Random Noise Pattern</p>\n            </div>\n\n        </div>\n    )\n}\n\nexport default BitmapCard;","import React, {useState} from \"react\";\n\n\nimport { mainImage } from \"../../App\";\n\nimport Slider from \"../Slider\";\n\nconst PixelateCard = ({filter,filterIndex,refreshApp}) => {\n\n    const [filterActive,setFilterActive] = useState(filter.active)\n\n    const handleDisplayCheck = (e) => {\n        if(e.target.checked){\n            filter.active = true;\n        } else {\n            filter.active = false; \n        }\n        \n        mainImage.draw()\n    }\n\n\n\n    const handleSliderChange = (e) => {\n        filter.options.pixelWidth = parseInt(e.target.value);\n        mainImage.draw()\n    }\n\n    const handleXOut = (e) => {\n        mainImage.activeFilters.splice(filterIndex,1);\n        mainImage.compileFilters();\n\n        refreshApp()\n    }\n\n    return (\n        <div className=\"Filter-Card Saturation-Filter-Card\">\n            <button onMouseDown={handleXOut} className=\"x-out\">x</button>\n            <span>\n                <div className=\"Display-Check-Cont\">\n                    <input onChange={handleDisplayCheck} type=\"checkbox\" defaultChecked={filterActive}/>                </div>\n                <h3>Pixelate</h3>\n            </span>\n            <Slider handler={handleSliderChange} max={255} min={2} step={1} value={filter.options.pixelWidth} title={\"Pixel Width\"} />\n        </div>\n    )\n}\n\nexport default PixelateCard;","import React from \"react\";\n\nconst Checkbox = ({handler,title,defaultValue}) => {\n    return (\n        <div className=\"Checkbox-Cont\">\n            <input type=\"checkbox\" defaultChecked={defaultValue} onChange={handler}/>\n            <p>{title}</p>\n        </div>\n    )\n}\n\nexport default Checkbox;","import React, {useState} from \"react\";\n\n\nimport { mainImage } from \"../../App\";\n\nimport Slider from \"../Slider\";\nimport Checkbox from \"../Checkbox\";\n\nconst WaveCard = ({filter,filterIndex,refreshApp}) => {\n\n    const [filterActive,setFilterActive] = useState(filter.active);\n    const [warpActive,setWarpActive] = useState(filter.options.warp)\n\n    const handleDisplayCheck = (e) => {\n        if(e.target.checked){\n            filter.active = true;\n        } else {\n            filter.active = false; \n        }\n        \n        mainImage.draw()\n    }\n\n    const handleWarpDistortCheck = (e) => {\n        filter.options.warp = e.target.checked;\n        setWarpActive(e.target.checked)\n        mainImage.draw()\n    }\n\n    const handleXAmpChange = (e) => {\n        filter.options.xAmplitude = e.target.value;\n        mainImage.draw()\n    }\n    const handleXWaveChange = (e) => {\n        filter.options.xWavelength = e.target.value;\n        mainImage.draw()\n    }\n    const handleYAmpChange = (e) => {\n        filter.options.yAmplitude = e.target.value;\n        mainImage.draw()\n    }\n    const handleYWaveChange = (e) => {\n        filter.options.yWavelength = e.target.value;\n        mainImage.draw()\n    }\n\n    const handleXOut = (e) => {\n        mainImage.activeFilters.splice(filterIndex,1);\n        mainImage.compileFilters();\n\n        refreshApp()\n    }\n\n    return (\n        <div className=\"Filter-Card Saturation-Filter-Card\">\n            <button onMouseDown={handleXOut} className=\"x-out\">x</button>\n            <span>\n                <div className=\"Display-Check-Cont\">\n                    <input onChange={handleDisplayCheck} type=\"checkbox\" defaultChecked={filterActive}/>                </div>\n                <h3>Wave</h3>\n            </span>\n            {/* <input type=\"checkbox\" defaultChecked={filter.options.warp}/> */}\n            <Checkbox handler={handleWarpDistortCheck} title=\"Warp\" defaultValue={warpActive}/>\n            <Slider handler={handleXAmpChange} max={warpActive ? 100 : 1250} min={1} step={1} value={40} title={\"X-Amplitude\"}/>\n            <Slider handler={handleXWaveChange} max={1250} min={1} step={1} value={40} title={\"X-Wavelength\"}/>\n            <Slider handler={handleYAmpChange} max={warpActive ? 100 : 1250} min={1} step={1} value={40} title={\"Y-Amplitude\"}/>\n            <Slider handler={handleYWaveChange} max={1250} min={1} step={1} value={40} title={\"Y-Wavelength\"}/>\n        </div>\n    )\n}\n\nexport default WaveCard;","import React, {useState} from 'react';\nimport Slider from '../Slider';\n\nimport { mainImage } from \"../../App\";\n\nfunction HueCard({filter, filterIndex, refreshApp}) {\n\n    const [filterActive,setFilterActive] = useState(filter.active)\n\n\n    const handleDisplayCheck = (e) => {\n        if(e.target.checked){\n            filter.active = true;\n        } else {\n            filter.active = false; \n        }\n        \n        mainImage.draw()\n    }\n\n    const handleSliderChange = (e) => {\n        filter.options.value = e.target.value;\n        mainImage.draw()\n    }\n\n    \n\n    return (\n        <div className='Filter-Card Hue-Filter-Card'>\n            <span>\n                <div className=\"Display-Check-Cont\">\n                    <input onChange={handleDisplayCheck} type=\"checkbox\" defaultChecked={filterActive}/>                </div>\n                <h3>Hue</h3>\n            </span>\n            <Slider handler={handleSliderChange} max={1} min={0} step={0.01} value={0.5} />\n        </div>\n    );\n}\n\nexport default HueCard;","import React from \"react\";\n\nimport { invert, noise, saturation, exposure, threshold, gradientMap } from \"../pixelFilters\";\nimport { bitmap, pixelate } from \"../blockFilters\";\n\nimport InvertCard from \"./filter-cards/InvertCard\";\nimport SaturationCard from \"./filter-cards/SaturateCard\";\n\nimport { mainImage } from \"../App\";\nimport { ByPixelFilter, ByBlockFilter } from \"../ImageFunctions\";\nimport NoiseCard from \"./filter-cards/NoiseCard\";\nimport ExposureCard from \"./filter-cards/ExposureCard\";\nimport ThresholdCard from \"./filter-cards/ThresholdCard\";\nimport GradientMapCard from \"./filter-cards/GradientMapCard\";\nimport BitmapCard from \"./filter-cards/BitmapCard\";\nimport PixelateCard from \"./filter-cards/PixelateCard\";\nimport WaveCard from \"./filter-cards/WaveCard\";\nimport HueCard from \"./filter-cards/HueCard\";\n\nconst FilterCardCont = ({refreshApp}) => {\n\n    console.log(mainImage)\n\n    const filterCards = mainImage.activeFilters.map((filter,index) => {\n\n        let operationType = filter.name\n        console.log(operationType)\n\n        switch (operationType) {\n            case 'invert':\n                return (<InvertCard key={index} filter={filter} filterIndex={index} refreshApp={refreshApp} />);\n            case 'saturation':\n                return (<SaturationCard key={index} filter={filter} filterIndex={index} refreshApp={refreshApp}  />);\n            case 'hue':\n                return (<HueCard key={index} filter={filter} filterIndex={index} refreshApp={refreshApp}/>)\n            case 'noise':\n                return (<NoiseCard key={index} filter={filter} filterIndex={index} refreshApp={refreshApp}  />);\n            case 'exposure':\n                return (<ExposureCard key={index} filter={filter} filterIndex={index} refreshApp={refreshApp}  />);\n            case 'threshold':\n                return(<ThresholdCard key={index} filter={filter} filterIndex={index} refreshApp={refreshApp}  />);\n            case 'gradientMap':\n                return(<GradientMapCard key={index} filter={filter} filterIndex={index} refreshApp={refreshApp}  />);\n            case 'bitmap':\n                return(<BitmapCard key={index} filter={filter} filterIndex={index} refreshApp={refreshApp}  />);\n            case 'pixelate':\n                return(<PixelateCard key={index} filter={filter} filterIndex={index} refreshApp={refreshApp}  />);\n            case 'wave':\n                return(<WaveCard key={index} filter={filter} filterIndex={index} refreshApp={refreshApp} />);\n            default:\n                return (<div className=\"Filter-Card\">Default Card</div>)\n            \n        }\n    });\n\n    console.log(filterCards)\n\n    return (\n        <div className=\"Filter-Card-Cont\">\n            {/* <button onMouseDown={refreshApp}>+</button>\n            <button onMouseDown={() => {mainImage.addFilter(new ByBlockFilter(bitmap,{canvas: mainImage.canvas, blockScaleFactor:4, randomPattern: false}));refreshApp()}}>+</button> */}\n            {filterCards}\n        </div>\n    )\n}\n\nexport default FilterCardCont","import React from \"react\";\n\nimport FileUpload from \"./FileUpload\";\nimport AddFilter from \"./AddFilter\";\nimport FilterCardCont from \"./FilterCardCont\";\n\nconst SettingSuite = ({uploadHandler,refreshApp}) => {\n    return (\n        <div className=\"Setting-Suite\">\n            <FileUpload eventHandler={uploadHandler} />\n            <FilterCardCont refreshApp={refreshApp} />\n        </div>\n    )\n}\n\nexport default SettingSuite","import React, {useState} from \"react\";\n\nconst Input = ({title,handler,size,value,suffix,extraText}) => {\n\n\n    let width = 200;\n\n    if(size){\n        switch(size){\n            case 'Small':\n                width = 100;\n                break;\n            case 'Medium':\n                width = 150;\n                break;\n            case 'Large':\n                width = 250;\n            case 'X-Large':\n                width = 350;\n        }\n    }\n\n    const ifTitle = () => {\n        if(title){\n            return <label>{title}</label>\n        } \n    }\n\n    const ifExtraText = () => {\n        if(extraText){\n            return <p>{extraText}</p>\n        }\n    }\n\n    return (\n        <div className=\"Input\">\n            <div>\n                <input style={{width: width}} onChange={handler} value={`${value}${suffix ? suffix : \"\"}`}/>\n                {ifExtraText()}\n            </div>\n            {ifTitle()}\n        </div>\n    )\n}\n\nexport default Input;","import React, {useState} from 'react'\n\n\nconst Select = ({options,title,handler}) => {\n\n    const optionItems = options.map((option,i) => \n        <option value={option} key={i}>{option}</option>\n    )\n\n    const ifTitle = () => {\n        if(title){\n            return (\n                <label>{title}</label>\n            )\n        }\n    }\n\n    return (\n        <div className=\"Select\">\n            <select onChange={handler}> {optionItems} </select>\n            {ifTitle()}\n        </div>\n    )\n}\n\nexport default Select","import React, {useState, useEffect} from \"react\";\n\nimport Input from \"./Input\";\nimport Select from \"./Select\";\n\nimport { mainImage } from \"../App\";\nimport Slider from \"./Slider\";\n\nconst ExportModal = ({display, setDisplay}) => {\n\n\n    const [exportSize, setExportSize] = useState(100);\n\n    const [pixelSize, setPixelSize] = useState('1000x1000');\n\n    const [format, setFormat] = useState('png');\n\n    const [jpegQuality, setJpegQuality] = useState(1.0);\n\n    const [filename,setFilename] = useState('filtered-image')\n\n\n    useEffect(() => {\n        updatePixelSize()\n    })\n    \n    const updatePixelSize = () => {\n        let fullW = mainImage.w/mainImage.drawResFactor;\n        let fullH = mainImage.h/mainImage.drawResFactor;\n    \n        let sizedW = Math.floor(fullW*(exportSize/100));\n        let sizedH = Math.floor(fullH*(exportSize/100));\n\n        setPixelSize(`${sizedW}px x ${sizedH}px`)\n\n    }\n\n    const handleSizeInput = (e) => {\n        // console.log(e.target.value)\n\n        if(e.target.value){\n\n            let val = e.target.value.slice(0,e.target.value.length-1);\n\n            if(val){\n                setExportSize(parseInt(val))\n            } else {\n                setExportSize(0)\n            }\n\n        } else {\n            setExportSize(0)\n        }\n    }\n\n    const handleFormatChange = (e) => {\n        setFormat(e.target.value);\n\n    }\n\n    const handleJpegQuality = (e) => {\n        setJpegQuality(parseFloat(e.target.value))\n\n    }\n\n    const handleFilename = (e) => {\n        setFilename(e.target.value);\n\n    }\n\n    const ifJpeg = () => {\n        if(format == 'jpeg'){\n            return <Slider handler={handleJpegQuality} max={1} min={0.01} step={0.01} value={1} title={'JPEG Compression Quality'}  />\n        }\n    }\n\n    const handleXOut = () => {\n        setDisplay('none')\n    }\n\n\n    const handleExport = () => {\n        mainImage.exportImage(filename,exportSize,format,jpegQuality);\n\n        setDisplay('none')\n    }\n\n\n    return (\n        <div style={{display: display}} className=\"Export-Modal\">\n            <div className=\"Export-Inner-Cont\">\n                {/* <button onMouseDown={handleXOut}>X</button> */}\n                <h1>Export</h1>\n                <div className=\"Export-Settings-Cont\">\n                    <div className=\"Export-Setting-Group\">\n                        <h3>Image Size</h3>\n                        <Input size=\"Small\" handler={handleSizeInput} value={exportSize} title=\"% of Original Size\" suffix=\"%\" extraText={pixelSize}/>\n                    </div>\n                    <div className=\"Export-Setting-Group\">\n                        <h3>Format</h3>\n                        <Select handler={handleFormatChange} options={['png','jpeg']} title=\"Select an Image Format\"/>\n                        {ifJpeg()}\n                    </div>\n                    <div className=\"Export-Setting-Group\">\n                        <h3>Filename</h3>\n                        <Input size=\"X-Large\" handler={handleFilename} value={filename} title=\"filename\" />\n                    </div>\n                </div>\n                <button onMouseDown={handleExport}>{\"Export & Download\"}</button>\n            </div>\n        </div>\n    )\n}\n\nexport default ExportModal;","export default __webpack_public_path__ + \"static/media/image-filter-app.482f681d.png\";","import React, {useState} from 'react';\n\nimport logoType from '../assets/image-filter-app.png';\n\n\n\n\nconst InfoModal = ({display, setDisplay}) => {\n\n    const handleX = () => {\n        setDisplay('none');\n    };\n\n    return (\n        <div style={{display:display}} className=\"Info-Modal\">\n            <div className=\"Info-Inner-Cont\">\n                <button className=\"X-Out\" onMouseDown={handleX}>X</button>\n                <img src={logoType} />\n                <i>v 1.0.0</i>\n                <p><i>Little Image Filter Web App Thingy</i> is a web app designed to allow users to upload images and apply a series of filters to \n                create customizable effects</p>\n                <p>This project was created by <a href=\"http://www.zack-is.online\">Zack Hersh</a>. This application was created within the \n                    ReactJS framework and all source code can be found in this <a href=\"https://github.com/zackshersh/little-image-filter-thingy-app\">github repository</a>.\n                </p>\n            </div>\n        </div>\n    )\n}\n\nexport default InfoModal;","import React, {useEffect,useState} from \"react\";\nimport Canvas from \"./components/Canvas\";\nimport FileUpload from \"./components/FileUpload\";\n\nimport ImageDisplay from \"./components/ImageDisplay\";\nimport SettingSuite from \"./components/SettingSuite\"\n\nimport { waitASec } from \"./utils\";\n\nimport { Image, sizeCanv, applyFilters, AppliedFilter } from './ImageFunctions'\nimport ExportModal from \"./components/ExportModal\";\nimport InfoModal from \"./components/InfoModal\";\n\n\nexport let mainImage = new Image();\nconsole.log('%cMAINIMAGE CREATED FROM CLASS','color:cyan')\n\n\nfunction App() {\n\n  const [refresh,setRefresh] = useState(0);\n\n  const [exportDisplay, setExportDisplay] = useState('none');\n\n  const [infoDisplay, setInfoDisplay] = useState('none');\n\n  const refreshApp = () => {\n    console.log('%c<<<<<<<< REFRESHING APP >>>>>>>>>','background-color:cyan;color:black')\n    setRefresh(refresh + 1)\n  }\n\n  const imageUploaded = async (files) => {\n    console.log(files)\n\n    if(!files || !files[0]){\n      console.log('%c NO FILES','color:white,background:red')\n      return;\n    }\n    console.log(files[0])\n    let newImg = document.createElement('img');\n    newImg.src = URL.createObjectURL(files[0]);\n    // document.querySelector(\"#root\").appendChild(newImg)\n    console.log(newImg.style)\n\n    newImg.onload = function(){\n      mainImage.setImage(newImg);\n      console.log('%c IMAGE LOADED','color:cyan')\n\n    }\n  }\n\n  console.log('%cAPP REFRESHING!!','color:red')\n\n   \n  useEffect(() => {\n    console.log('%c USE EFFECT')\n    mainImage.init(document.querySelector('.imageCanv'))\n\n  })\n\n  return (\n    <div className=\"App\">\n      <ExportModal display={exportDisplay} setDisplay={setExportDisplay} />\n      <InfoModal display={infoDisplay} setDisplay={setInfoDisplay}/>\n      <div className=\"Image-Editor\">\n        <ImageDisplay refreshApp={refreshApp} setExportDisplay={setExportDisplay} setInfoDisplay={setInfoDisplay}/>\n        <SettingSuite refreshApp={refreshApp} uploadHandler={imageUploaded} />\n      </div>\n\n      {/* <button style={{position:'absolute',bottom:\"40px\",left:\"240px\",backgroundColor:\"yellow\"}} onMouseDown={() => {setRefresh(refresh + 1);}}>Refresh</button> */}\n      {/* <img style={{display:'none'}} id=\"placeholder-image\" src=\"./clouds.jpg\" /> */}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}