(this["webpackJsonpimage-filter-app"]=this["webpackJsonpimage-filter-app"]||[]).push([[0],{449:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),o=a(21),r=a.n(o),c=a(91),s=a.n(c),l=a(140),d=a(3),h=a(0),u=function(){var e=Object(n.useState)(0),t=Object(d.a)(e,2),a=t[0],i=(t[1],Object(n.useState)(0)),o=Object(d.a)(i,2),r=o[0];o[1];return Object(h.jsx)("div",{className:"canvas-component flex-center",children:Object(h.jsx)("canvas",{style:{transform:"translate(".concat(a+"px",",").concat(r+"px",")")},onMouseDown:function(e){e.target.onmousemove=function(e){},e.target.onmouseup=function(e){e.target.onmouseup=null,e.target.onmousemove=null}},className:"imageCanv"})})},j=function(e){var t=e.eventHandler,a=Object(n.useState)(!1),i=Object(d.a)(a,2),o=i[0],r=i[1],c=Object(n.useState)("No File Uploaded"),s=Object(d.a)(c,2),l=s[0],u=s[1];return Object(h.jsxs)("div",{className:"File-Upload ".concat(o?"File-Upload File-Upload-True":"File-Upload-False"),children:[Object(h.jsx)("button",{onMouseDown:function(){document.querySelector("#imageUpload").click()},children:"Upload"}),Object(h.jsx)("p",{children:l}),Object(h.jsx)("input",{style:{display:"none"},onChange:function(e){t(e.target.files),u(e.target.files[0].name),r(!0)},id:"imageUpload",type:"file",accept:".jpg, .png"})]})};function p(e,t,a){return e+(t-e)*a}function f(e){return Math.floor(Math.random()*e)}function b(){return Math.random()>.5?1:-1}function x(e,t,a){return t*(4*a)+4*e}function v(e,t,a,n,i,o){for(var r=Object(d.a)(o,4),c=r[0],s=r[1],l=r[2],h=r[3],u=e.data,j=0;j<i;j++)for(var p=0;p<n;p++){var f=x(t+p,a+j,e.width);u[f]=c,u[f+1]=s,u[f+2]=l,u[f+3]=h}}function O(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function m(e){var t=Object(d.a)(e,3),a=t[0],n=t[1],i=t[2];return"#"+O(a)+O(n)+O(i)}function g(e){var t=e.data,a=new ImageData(e.width,e.height);a.data.set(t);var n=a.data;console.log("%cFILLING","color:orange");for(var i=0;i<e.height;i++)for(var o=0;o<e.width;o++){var r=x(o,i,e.width);if(!(t[r+3]>0))if(t[x(o+1,i,e.width)+3]>0){var c=x(o+1,i,e.width);n[r]=t[c],n[r+1]=t[c+1],n[r+2]=t[c+2],n[r+3]=t[c+3]}else if(t[x(o,i+1,e.width)+3]>0){var s=x(o,i+1,e.width);n[r]=t[s],n[r+1]=t[s+1],n[r+2]=t[s+2],n[r+3]=t[s+3]}else if(t[x(o+1,i+1,e.width)+1]>0){var l=x(o+1,i+1,e.width);n[r]=t[l],n[r+1]=t[l+1],n[r+2]=t[l+2],n[r+3]=t[l+3]}}return a}var w=a(93),C=a(62),F=a(141);a(149);function y(e){var t=255-e[0],a=255-e[1],n=255-e[2];e[3];return[Math.floor(t),Math.floor(a),Math.floor(n),Math.floor(e[3])]}function M(e,t){var a=t.value,n=void 0===a?40:a;return[e[0]+n,e[1]+n,e[2]+n,e[3]]}function S(e,t){var a=t.cutoff,n=void 0===a?120:a;return(e[0]+e[1]+e[2])/3>n?[255,255,255,e[3]]:[0,0,0,255,e[3]]}function k(e,t){var a=t.darkColor,n=void 0===a?[0,0,0]:a,i=t.lightColor,o=void 0===i?[255,255,255]:i,r=(e[0]+e[1]+e[2])/3/255,c=p(n[0],o[0],r),s=p(n[1],o[1],r),l=p(n[2],o[2],r);return[Math.floor(c),Math.floor(s),Math.floor(l),Math.floor(e[3])]}function N(e,t){var a=t.max,n=void 0===a?50:a,i=t.monochromatic;if(void 0===i||i){var o=f(n)*b(),r=e[0]+o,c=e[1]+o,s=e[2]+o;return[Math.floor(r),Math.floor(c),Math.floor(s),Math.floor(e[3])]}var l=e[0]+f(n)*b(),d=e[1]+f(n)*b(),h=e[2]+f(n)*b();return[Math.floor(l),Math.floor(d),Math.floor(h),Math.floor(e[3])]}function I(e,t){var a=t.amount,n=void 0===a?3:a,i=e[0],o=e[1],r=e[2],c=(i+o+r)/3,s=p(c,i,n),l=p(c,o,n),d=p(c,r,n);return[Math.floor(s),Math.floor(l),Math.floor(d),Math.floor(e[3])]}a(144);function D(e,t){var a=t.pixelWidth,n=void 0===a?12:a,i=t.pixelsPerRow,o=e.data,r=new ImageData(e.width,e.height),c=(r.data,8);n?c=n:i&&(c=Math.floor(e.width/i)),c=Math.floor(c*de.drawResFactor);for(var s=0;s<e.height;s+=c)for(var l=0;l<e.width;l+=c){var d=x(l,s,e.width),h=[o[d],o[d+1],o[d+2],o[d+3]];v(r,l,s,c,c,[].concat(h))}return console.log(document.event),r}function A(e,t){t.canvas;var a=t.blockScaleFactor,n=void 0===a?2:a,i=t.randomPattern,o=void 0!==i&&i,r=e.data,c=new ImageData(e.width,e.height),s=(c.data,[0,8,2,10,12,4,14,6,13,11,1,9,15,7,13,5]);(n=Math.floor(n*de.drawResFactor))<1&&(n=1);for(var l=Math.sqrt(s.length),d=0;d<e.height;d+=l*n)for(var h=0;h<e.width;h+=l*n){if(o){s=[];for(var u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],j=u.length,p=0;p<j;p++){var b=f(u.length);s.push(u[b]),u.splice(b,1)}}for(var O=x(h,d,e.width),m=r[O],g=r[O+1],w=r[O+2],C=r[O+3],F=(m+g+w)/3,y=Math.floor(F/255*s.length),M=0,S=0;S<l*n;S+=n)for(var k=0;k<l*n;k+=n)s[M]<y?v(c,h+k,d+S,n,n,[255,255,255,C]):v(c,h+k,d+S,n,n,[0,0,0,C]),M++}return console.log("%cBITMAP COMPLETE","color:rgb(0,255,0)"),c}function E(e,t){t.canvas;var a=t.xAmplitude,n=void 0===a?20:a,i=t.xWavelength,o=void 0===i?120:i,r=t.xShift,c=void 0===r?0:r,s=t.yAmplitude,l=void 0===s?20:s,d=t.yWavelength,h=void 0===d?60:d,u=t.yShift,j=void 0===u?0:u,p=t.warp,f=void 0===p||p,b=e.data,v=new ImageData(e.width,e.height),O=v.data;n=Math.floor(de.drawResFactor*n),o=Math.floor(de.drawResFactor*o),c=Math.floor(de.drawResFactor*c),l=Math.floor(de.drawResFactor*l),h=Math.floor(de.drawResFactor*h),j=Math.floor(de.drawResFactor*j);for(var m=0;m<e.height;m++)for(var w=0;w<e.width;w++){var C=x(w,m,e.width),F=b[C],y=b[C+1],M=b[C+2],S=b[C+3],k=void 0,N=void 0;f?(k=w+Math.sin(w/o)*n+c,N=m+Math.sin(m/h)*l+j):(k=w+Math.sin(m/h)*l+j,N=m+Math.sin(w/o)*n+c),k=Math.floor(k),N=Math.floor(N),k>e.width?k-=e.width:k<0&&(k+=e.width),N>e.height?N-=e.height:N<0&&(N+=e.height);var I=x(k,N,e.width);O[I]=F,O[I+1]=y,O[I+2]=M,O[I+3]=S,20==w&&20==m&&(console.log(C),console.log(w,m),console.log(k,N),console.log(I))}return v=g(v),v=g(v),console.log(v),v}var R=function(){function e(){Object(C.a)(this,e),this.canvas=null,this.w=400,this.h=400,this.image=null,this.activeFilters=[],this.filtersCompiled=[],this.renderWorkers=[],this.drawCountdown=500,this.drawInterval=null,this.drawResFactor=.5}return Object(F.a)(e,[{key:"init",value:function(e){console.log("%cV 1.2","background-color:#ff00ff;padding:24px 48px 24px 48px;color:black"),this.canvas=e,console.log("%c Initializing Image Object","background-color:orange;color:black"),console.log("%c                             ","background-color: orange;color:black;width:200px;white-space:prewrap;"),console.log(this),console.log("%c                             ","background-color: orange;color:black;width:200px;white-space:prewrap"),this.ctx=this.canvas.getContext("2d"),this.setCanvas();this.renderWorkers=[],console.log("%cTHIS.IMAGE --------------","color:orange"),console.log(this.image),console.log("%c ------------------------","color:orange"),this.compileFilters(),this.image&&this.draw()}},{key:"clearFilters",value:function(){this.filters=[]}},{key:"addFilter",value:function(e){console.log("ADDING FILTER"),this.activeFilters.push(e),this.compileFilters()}},{key:"removeFilter",value:function(e){this.activeFilters.splice(e,1),this.compileFilters()}},{key:"compileFilters",value:function(){var e=this;this.filtersCompiled=[];var t=[];this.activeFilters.forEach((function(a){console.log(a);var n=a.type;a.active&&("ByPixelFilter"==n?t.push(a):"ByBlockFilter"==n&&(t.length>0&&(e.filtersCompiled.push(t),t=[]),e.filtersCompiled.push(a)))})),t.length>0&&(this.filtersCompiled.push(t),t=[])}},{key:"setImage",value:function(e){console.log("%c Image Set","color:orange"),this.image=e,this.canvas.style.width="50vw";var t=getComputedStyle(this.image);t.width,t.height;this.setCanvas(),this.draw()}},{key:"setCanvas",value:function(){this.image?(this.w=this.image.width*this.drawResFactor,this.h=this.image.height*this.drawResFactor,this.canvas.width=this.w,this.canvas.height=this.h):(this.canvas.width=this.w,this.canvas.height=this.h)}},{key:"drawDefault",value:function(){this.ctx.fillStyle="rgb(170,170,170)",this.ctx.beginPath(),this.ctx.fillRect(0,0,this.w,this.h),this.ctx.closePath()}},{key:"draw",value:function(e){if(this.image){this.compileFilters();var t=performance.now();if(console.log("%c DRAWIMG IMAGE","color:orange;"),this.ctx.beginPath(),this.ctx.fillStyle="rgb(".concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),",").concat(Math.floor(255*Math.random()),")"),this.ctx.fillRect(0,0,this.image.width,this.image.height),this.ctx.closePath(),this.ctx.drawImage(this.image,0,0,this.w,this.h),this.filtersCompiled.length>0){console.log("COMPILED FILTERS FOUND");var a=this.applyFilters();this.ctx.putImageData(a,0,0)}else console.log("NO COMPILED FILTERS FOUND");var n=performance.now();console.log("%cIMAGE DRAWN WITH ".concat(this.activeFilters.length," FILTERS \n IN ").concat((n-t)/1e3," SECONDS"),"background-color:yellow;color:black;padding:3px")}}},{key:"applyFilters",value:function(){console.log("%cAPPLYING FILTERS","background-color:#00ff00");var e=this.ctx.getImageData(0,0,this.w,this.h);return this.filtersCompiled.reduce((function(e,t){console.log("%cREDUCER FUNCTION REDUCING","color:#00ff00");var a=e,n=a.data;if(t instanceof Array){for(var i=function(){var e=[n[o],n[o+1],n[o+2],n[o+3]];t.forEach((function(t){e=t.operation(e,t.options)})),n[o]=e[0],n[o+1]=e[1],n[o+2]=e[2],n[o+3]=e[3]},o=0;o<n.length;o+=4)i();return a}return t.operation(a,t.options)}),e)}},{key:"exportImage",value:function(e,t,a,n){console.log("%cEXPORTING IMAGE","background-color:orange;color:black");var i=this.drawResFactor;this.drawResFactor=t/100,this.setCanvas(),this.draw(),this.renderToImg(e,a,n),this.drawResFactor=i,this.setCanvas(),this.draw()}},{key:"renderToImg",value:function(e,t,a){var n=document.querySelector("#draw-output");n&&n.remove();var i=document.createElement("img");function o(t){var a=document.createElement("a");a.style.display="none";var n=window.URL.createObjectURL(t);a.href=n,a.download=e,a.click()}i.id="draw-output",i.style.display="none","jpeg"==t?this.canvas.toBlob(o,"image/jpeg",a):this.canvas.toBlob(o,"image/png")}}]),e}(),T=function e(t,a,n){Object(C.a)(this,e),this.operation=t,this.name=a,this.options=n,this.active=!0,this.type="ByPixelFilter"},B=function e(t,a,n){Object(C.a)(this,e),this.operation=t,this.name=a,this.options=n,this.active=!0,this.type="ByBlockFilter"},P=function(e){var t=e.handler,a=e.title,n=(e.filter,e.name),i=e.defaultOptions;return Object(h.jsx)("p",{"data-filter":n,"data-options":i,className:"Filter-Option",onMouseDown:t,children:a})},L=function(e){var t=e.refreshApp,a=Object(n.useState)(!1),i=Object(d.a)(a,2),o=i[0],r=i[1],c=Object(n.useState)("100%"),s=Object(d.a)(c,2),l=s[0],u=s[1],j=Object(n.useState)(0),p=Object(d.a)(j,2),f=p[0],b=p[1],x=Object(n.useState)(0),v=Object(d.a)(x,2),O=v[0],m=v[1],g=function(){o?(u("100%"),b(0),m(0),document.querySelector(".AF-Button").textContent="Filters +",r(!1)):(u("100%"),b("auto"),m(24),document.querySelector(".AF-Button").textContent="Filters -",r(!0))},C=function(e){console.log(e.target.dataset.filter),g();var a=[y,M,I,k,N,S,D,A,E],n=["invert","exposure","saturation","gradientMap","noise","threshold","pixelate","bitmap","wave"];console.log(e.target.dataset);var i=JSON.parse(e.target.dataset.options);a.forEach((function(t,a){if(e.target.dataset.filter==n[a]){var o=e.target.textContent.toLowerCase();console.log("FILTER MATCHED = "+n[a]),"bitmap"==o||"pixelate"==o||"wave"==o?de.addFilter(new B(t,n[a],Object(w.a)({},i))):de.addFilter(new T(t,n[a],Object(w.a)({},i))),console.log(de.activeFilters)}})),t()};return Object(h.jsxs)("div",{className:"Add-Filter Menu-Bar-Cont",children:[Object(h.jsx)("div",{className:"Add-Filter-Button",children:Object(h.jsx)("button",{className:"AF-Button Menu-Bar-Button",onMouseDown:g,children:"Filters +"})}),Object(h.jsxs)("div",{style:{width:l,height:f,paddingBottom:O,paddingTop:2*O},className:"Add-Filter-Options",children:[Object(h.jsx)(P,{handler:C,filter:A,name:"bitmap",title:"Bitmap",defaultOptions:JSON.stringify({blockScaleFactor:4,randomPattern:!1})}),Object(h.jsx)(P,{handler:C,filter:M,name:"exposure",title:"Exposure",defaultOptions:JSON.stringify({value:40})}),Object(h.jsx)(P,{handler:C,filter:k,name:"gradientMap",title:"Gradient Map",defaultOptions:JSON.stringify({darkColor:[0,0,255],lightColor:[255,255,255]})}),Object(h.jsx)(P,{handler:C,filter:y,name:"invert",title:"Invert",defaultOptions:JSON.stringify({filler:1})}),Object(h.jsx)(P,{handler:C,filter:N,name:"noise",title:"Noise",defaultOptions:JSON.stringify({max:100,monochromatic:!0})}),Object(h.jsx)(P,{handler:C,filter:D,name:"pixelate",title:"Pixelate",defaultOptions:JSON.stringify({pixelWidth:12})}),Object(h.jsx)(P,{handler:C,filter:I,name:"saturation",title:"Saturation",defaultOptions:JSON.stringify({amount:3})}),Object(h.jsx)(P,{handler:C,filter:S,name:"threshold",title:"Threshold",defaultOptions:JSON.stringify({cutoff:120})}),Object(h.jsx)(P,{handler:C,filter:E,name:"wave",title:"Wave",defaultOptions:JSON.stringify({xAmplitude:20,xWavelength:120,xShift:0,yAmplitude:20,yWavelength:60,yShift:0,warp:!1})})]})]})},W=function(e){var t=e.refreshApp,a=Object(n.useState)(de.drawResFactor),i=Object(d.a)(a,2),o=i[0],r=i[1],c=Object(n.useState)(!1),s=Object(d.a)(c,2),l=s[0],u=s[1],j=function(e){var a=e.target.dataset.val;r(parseFloat(a)),u(!1),de.drawResFactor=a,t()};return Object(h.jsxs)("div",{className:"Preview-Res Menu-Bar-Cont",children:[Object(h.jsx)("div",{className:"Res-Button-Cont",children:Object(h.jsxs)("button",{className:"Menu-Bar-Button",onMouseDown:function(e){u(!l)},children:["Preview Resolution: ",o,"x"]})}),Object(h.jsxs)("div",{className:"Res-Options-Cont ".concat(l?"Res-Options-Expanded-True":"Res-Options-Expanded-False"),children:[Object(h.jsx)("button",{onMouseDown:j,"data-val":"1",children:"1x"}),Object(h.jsx)("button",{onMouseDown:j,"data-val":"0.5",children:"0.5x"}),Object(h.jsx)("button",{onMouseDown:j,"data-val":"0.25",children:"0.25x"}),Object(h.jsx)("button",{onMouseDown:j,"data-val":"0.1",children:"0.1x"})]})]})},U=function(e){var t=e.setDisplay;return Object(h.jsx)("div",{className:"Export-Cont Menu-Bar-Cont",children:Object(h.jsx)("button",{class:"Menu-Bar-Button",onMouseDown:function(){de.image?t("flex"):alert("An image must be uploaded to export.")},children:"Export"})})},G=function(e){var t=e.handler;return Object(h.jsx)("div",{className:"Info-Button",children:Object(h.jsx)("button",{onMouseDown:function(){t("flex")},children:"?"})})},J=function(e){var t=e.refreshApp,a=e.setExportDisplay,n=e.setInfoDisplay,i=function(e){"zoomIn"==e.target.id?o(1.5,500):o(.66,500)},o=function(e,t){var a=document.querySelector(".imageCanv"),n=getComputedStyle(a).width,i=parseInt(n.split("px")[0])*e;a.style.width=i+"px"};return Object(h.jsxs)("div",{className:"Image-Display",children:[Object(h.jsxs)("div",{className:"Menu-Bar",children:[Object(h.jsx)(U,{setDisplay:a}),Object(h.jsx)(L,{refreshApp:t}),Object(h.jsx)(W,{refreshApp:t})]}),Object(h.jsx)("div",{className:"Image-Cont flex-center",children:Object(h.jsx)(u,{})}),Object(h.jsxs)("div",{className:"Zoom-Cont",children:[Object(h.jsx)("button",{id:"zoomIn",onMouseDown:i,children:"+"}),Object(h.jsx)("button",{id:"zoomOut",onMouseDown:i,children:"-"})]}),Object(h.jsx)(G,{handler:n})]})},H=function(e){var t=e.filter,a=e.filterIndex,i=e.refreshApp,o=Object(n.useState)(t.active),r=Object(d.a)(o,2),c=r[0];r[1];return Object(h.jsxs)("div",{className:"Filter-Card Invert-Filter-Card",children:[Object(h.jsx)("button",{onMouseDown:function(e){de.activeFilters.splice(a,1),de.compileFilters(),i()},className:"x-out",children:"x"}),Object(h.jsxs)("span",{children:[Object(h.jsx)("div",{className:"Display-Check-Cont",children:Object(h.jsx)("input",{onChange:function(e){e.target.checked?t.active=!0:t.active=!1,de.draw()},type:"checkbox",defaultChecked:c})}),Object(h.jsx)("h3",{children:"Invert"})]})]})},z=function(e){var t=e.handler,a=e.max,i=e.min,o=e.step,r=e.value,c=e.title,s=Object(n.useState)(r),l=Object(d.a)(s,2),u=l[0],j=l[1];return Object(h.jsxs)("div",{className:"Slider",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{defaultValue:u,onMouseUp:t,onChange:function(e){j(e.target.value)},max:a,min:i,step:o,type:"range"}),Object(h.jsx)("p",{className:"Slider-Value-Display",children:u})]}),Object(h.jsx)("p",{children:c})]})},q=function(e){var t=e.filter,a=e.filterIndex,i=e.refreshApp,o=Object(n.useState)(t.active),r=Object(d.a)(o,2),c=r[0];r[1];return Object(h.jsxs)("div",{className:"Filter-Card Saturation-Filter-Card",children:[Object(h.jsx)("button",{onMouseDown:function(e){de.activeFilters.splice(a,1),de.compileFilters(),i()},className:"x-out",children:"x"}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("div",{className:"Display-Check-Cont",children:[Object(h.jsx)("input",{onChange:function(e){e.target.checked?t.active=!0:t.active=!1,de.draw()},type:"checkbox",defaultChecked:c}),"                "]}),Object(h.jsx)("h3",{children:"Saturate"})]}),Object(h.jsx)(z,{handler:function(e){t.options.amount=e.target.value,de.draw()},max:10,min:0,step:1,value:2})]})},V=function(e){var t=e.filter,a=e.filterIndex,i=e.refreshApp,o=Object(n.useState)(t.active),r=Object(d.a)(o,2),c=r[0],s=(r[1],Object(n.useState)(t.options.monochromatic=!0)),l=Object(d.a)(s,2),u=l[0],j=l[1];return Object(h.jsxs)("div",{className:"Filter-Card Noise-Filter-Card",children:[Object(h.jsx)("button",{onMouseDown:function(e){de.activeFilters.splice(a,1),de.compileFilters(),i()},className:"x-out",children:"x"}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("div",{className:"Display-Check-Cont",children:[Object(h.jsx)("input",{onChange:function(e){e.target.checked?t.active=!0:t.active=!1,de.draw()},type:"checkbox",defaultChecked:c}),"                "]}),Object(h.jsx)("h3",{children:"Noise"})]}),Object(h.jsx)(z,{handler:function(e){t.options.max=e.target.value,console.log("%cMONOCHROMATIC STATUS","color:red"),console.log("monochr state: "),console.log(u),console.log("filter.options.monochromatic:"),console.log(t.options.monochromatic),de.draw()},max:255,min:0,step:1,value:50,title:"Amount"}),Object(h.jsxs)("div",{className:"Checkbox-Cont",children:[Object(h.jsx)("input",{type:"checkbox",onChange:function(e){console.log(e.target.checked),j(e.target.checked),t.options.monochromatic=!u,console.log("%cMONOCHROMATIC STATUS","color:red"),console.log("monochr state: "),console.log(u),console.log("filter.options.monochromatic:"),console.log(t.options.monochromatic),de.draw()},checked:u}),Object(h.jsx)("p",{children:"Monochromatic Noise"})]})]})},X=function(e){var t=e.filter,a=e.filterIndex,i=e.refreshApp,o=Object(n.useState)(t.active),r=Object(d.a)(o,2),c=r[0];r[1];return Object(h.jsxs)("div",{className:"Filter-Card Saturation-Filter-Card",children:[Object(h.jsx)("button",{onMouseDown:function(e){de.activeFilters.splice(a,1),de.compileFilters(),i()},className:"x-out",children:"x"}),Object(h.jsxs)("span",{children:[Object(h.jsx)("div",{className:"Display-Check-Cont",children:Object(h.jsx)("input",{onChange:function(e){e.target.checked?t.active=!0:t.active=!1,de.draw()},type:"checkbox",defaultChecked:c})}),Object(h.jsx)("h3",{children:"Exposure"})]}),Object(h.jsx)(z,{handler:function(e){t.options.value=parseInt(e.target.value),de.draw()},max:255,min:-255,step:1,value:t.options.value,title:"Value"})]})},Y=function(e){var t=e.filter,a=e.filterIndex,i=e.refreshApp,o=Object(n.useState)(t.active),r=Object(d.a)(o,2),c=r[0];r[1];return Object(h.jsxs)("div",{className:"Filter-Card Saturation-Filter-Card",children:[Object(h.jsx)("button",{onMouseDown:function(e){de.activeFilters.splice(a,1),de.compileFilters(),i()},className:"x-out",children:"x"}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("div",{className:"Display-Check-Cont",children:[Object(h.jsx)("input",{onChange:function(e){e.target.checked?t.active=!0:t.active=!1,de.draw()},type:"checkbox",defaultChecked:c}),"                "]}),Object(h.jsx)("h3",{children:"Threshold"})]}),Object(h.jsx)(z,{handler:function(e){t.options.cutoff=parseInt(e.target.value),de.draw()},max:255,min:0,step:1,value:t.options.cutoff,title:"Cutoff Value"})]})},Z=250,Q=null;var $=function(e){e.title;var t=e.value,a=e.handler,i=Object(n.useState)(t),o=Object(d.a)(i,2),r=o[0],c=o[1];return Object(h.jsx)("div",{className:"Color-Input",children:Object(h.jsx)("input",{value:r,onChange:function(e){Z=250,Q||(Q=setInterval((function(){(Z-=10)<0&&(clearInterval(Q),console.log("!!!!!!!! HEY !!!!!!!!!"),Z=250,Q=null,de.draw())}),10)),a(r),c(e.target.value)},type:"color"})})},K=function(e){var t=e.filter,a=e.filterIndex,i=e.refreshApp,o=Object(n.useState)(t.active),r=Object(d.a)(o,2),c=r[0],s=(r[1],Object(n.useState)(m(t.options.darkColor))),l=Object(d.a)(s,2),u=l[0],j=l[1],p=Object(n.useState)(m(t.options.lightColor)),f=Object(d.a)(p,2);f[0],f[1];return Object(h.jsxs)("div",{className:"Filter-Card Invert-Filter-Card",children:[Object(h.jsx)("button",{onMouseDown:function(e){de.activeFilters.splice(a,1),de.compileFilters(),i()},className:"x-out",children:"x"}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("div",{className:"Display-Check-Cont",children:[Object(h.jsx)("input",{onChange:function(e){e.target.checked?t.active=!0:t.active=!1,de.draw()},type:"checkbox",defaultChecked:c}),"                "]}),Object(h.jsx)("h3",{children:"Gradient Map"})]}),Object(h.jsx)("br",{}),Object(h.jsx)($,{title:"Dark Color",value:u,handler:function(e){j(e),t.options.darkColor=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}(u)}})]})},_=function(e){var t=e.filter,a=e.filterIndex,i=e.refreshApp,o=Object(n.useState)(t.active),r=Object(d.a)(o,2),c=r[0],s=(r[1],Object(n.useState)(t.options.randomPattern)),l=Object(d.a)(s,2),u=l[0];l[1];return Object(h.jsxs)("div",{className:"Filter-Card Saturation-Filter-Card",children:[Object(h.jsx)("button",{onMouseDown:function(e){de.activeFilters.splice(a,1),de.compileFilters(),i()},className:"x-out",children:"x"}),Object(h.jsx)("div",{className:"Display-Check-Cont",children:Object(h.jsx)("input",{onChange:function(e){e.target.checked?t.active=!0:t.active=!1,de.draw()},type:"checkbox",defaultChecked:c})}),Object(h.jsx)("span",{children:Object(h.jsx)("h3",{children:"Bitmap"})}),Object(h.jsx)(z,{handler:function(e){t.options.blockScaleFactor=parseInt(e.target.value),de.draw()},max:24,min:1,step:1,value:t.options.blockScaleFactor,title:"Scaling Factor"}),Object(h.jsxs)("div",{className:"Checkbox-Cont",children:[Object(h.jsx)("input",{type:"checkbox",onChange:function(e){t.options.randomPattern=e.target.checked,de.draw()},defaultChecked:u}),Object(h.jsx)("p",{children:"Random Noise Pattern"})]})]})},ee=function(e){var t=e.filter,a=e.filterIndex,i=e.refreshApp,o=Object(n.useState)(t.active),r=Object(d.a)(o,2),c=r[0];r[1];return Object(h.jsxs)("div",{className:"Filter-Card Saturation-Filter-Card",children:[Object(h.jsx)("button",{onMouseDown:function(e){de.activeFilters.splice(a,1),de.compileFilters(),i()},className:"x-out",children:"x"}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("div",{className:"Display-Check-Cont",children:[Object(h.jsx)("input",{onChange:function(e){e.target.checked?t.active=!0:t.active=!1,de.draw()},type:"checkbox",defaultChecked:c}),"                "]}),Object(h.jsx)("h3",{children:"Pixelate"})]}),Object(h.jsx)(z,{handler:function(e){t.options.pixelWidth=parseInt(e.target.value),de.draw()},max:255,min:2,step:1,value:t.options.pixelWidth,title:"Pixel Width"})]})},te=function(e){var t=e.handler,a=e.title,n=e.defaultValue;return Object(h.jsxs)("div",{className:"Checkbox-Cont",children:[Object(h.jsx)("input",{type:"checkbox",defaultChecked:n,onChange:t}),Object(h.jsx)("p",{children:a})]})},ae=function(e){var t=e.filter,a=e.filterIndex,i=e.refreshApp,o=Object(n.useState)(t.active),r=Object(d.a)(o,2),c=r[0],s=(r[1],Object(n.useState)(t.options.warp)),l=Object(d.a)(s,2),u=l[0],j=l[1];return Object(h.jsxs)("div",{className:"Filter-Card Saturation-Filter-Card",children:[Object(h.jsx)("button",{onMouseDown:function(e){de.activeFilters.splice(a,1),de.compileFilters(),i()},className:"x-out",children:"x"}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("div",{className:"Display-Check-Cont",children:[Object(h.jsx)("input",{onChange:function(e){e.target.checked?t.active=!0:t.active=!1,de.draw()},type:"checkbox",defaultChecked:c}),"                "]}),Object(h.jsx)("h3",{children:"Wave"})]}),Object(h.jsx)(te,{handler:function(e){t.options.warp=e.target.checked,j(e.target.checked),de.draw()},title:"Warp",defaultValue:u}),Object(h.jsx)(z,{handler:function(e){t.options.xAmplitude=e.target.value,de.draw()},max:u?100:1250,min:1,step:1,value:40,title:"X-Amplitude"}),Object(h.jsx)(z,{handler:function(e){t.options.xWavelength=e.target.value,de.draw()},max:1250,min:1,step:1,value:40,title:"X-Wavelength"}),Object(h.jsx)(z,{handler:function(e){t.options.yAmplitude=e.target.value,de.draw()},max:u?100:1250,min:1,step:1,value:40,title:"Y-Amplitude"}),Object(h.jsx)(z,{handler:function(e){t.options.yWavelength=e.target.value,de.draw()},max:1250,min:1,step:1,value:40,title:"Y-Wavelength"})]})},ne=function(e){var t=e.refreshApp;console.log(de);var a=de.activeFilters.map((function(e,a){var n=e.name;switch(console.log(n),n){case"invert":return Object(h.jsx)(H,{filter:e,filterIndex:a,refreshApp:t},a);case"saturation":return Object(h.jsx)(q,{filter:e,filterIndex:a,refreshApp:t},a);case"noise":return Object(h.jsx)(V,{filter:e,filterIndex:a,refreshApp:t},a);case"exposure":return Object(h.jsx)(X,{filter:e,filterIndex:a,refreshApp:t},a);case"threshold":return Object(h.jsx)(Y,{filter:e,filterIndex:a,refreshApp:t},a);case"gradientMap":return Object(h.jsx)(K,{filter:e,filterIndex:a,refreshApp:t},a);case"bitmap":return Object(h.jsx)(_,{filter:e,filterIndex:a,refreshApp:t},a);case"pixelate":return Object(h.jsx)(ee,{filter:e,filterIndex:a,refreshApp:t},a);case"wave":return Object(h.jsx)(ae,{filter:e,filterIndex:a,refreshApp:t},a);default:return Object(h.jsx)("div",{className:"Filter-Card",children:"Default Card"})}}));return console.log(a),Object(h.jsx)("div",{className:"Filter-Card-Cont",children:a})},ie=function(e){var t=e.uploadHandler,a=e.refreshApp;return Object(h.jsxs)("div",{className:"Setting-Suite",children:[Object(h.jsx)(j,{eventHandler:t}),Object(h.jsx)(ne,{refreshApp:a})]})},oe=function(e){var t=e.title,a=e.handler,n=e.size,i=e.value,o=e.suffix,r=e.extraText,c=200;if(n)switch(n){case"Small":c=100;break;case"Medium":c=150;break;case"Large":c=250;case"X-Large":c=350}return Object(h.jsxs)("div",{className:"Input",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{style:{width:c},onChange:a,value:"".concat(i).concat(o||"")}),function(){if(r)return Object(h.jsx)("p",{children:r})}()]}),function(){if(t)return Object(h.jsx)("label",{children:t})}()]})},re=function(e){var t=e.options,a=e.title,n=e.handler,i=t.map((function(e){return Object(h.jsx)("option",{value:e,children:e})}));return Object(h.jsxs)("div",{className:"Select",children:[Object(h.jsxs)("select",{onChange:n,children:[" ",i," "]}),function(){if(a)return Object(h.jsx)("label",{children:a})}()]})},ce=function(e){var t=e.display,a=e.setDisplay,i=Object(n.useState)(100),o=Object(d.a)(i,2),r=o[0],c=o[1],s=Object(n.useState)("1000x1000"),l=Object(d.a)(s,2),u=l[0],j=l[1],p=Object(n.useState)("png"),f=Object(d.a)(p,2),b=f[0],x=f[1],v=Object(n.useState)(1),O=Object(d.a)(v,2),m=O[0],g=O[1],w=Object(n.useState)("filtered-image"),C=Object(d.a)(w,2),F=C[0],y=C[1];Object(n.useEffect)((function(){M()}));var M=function(){var e=de.w/de.drawResFactor,t=de.h/de.drawResFactor,a=Math.floor(e*(r/100)),n=Math.floor(t*(r/100));j("".concat(a,"px x ").concat(n,"px"))},S=function(e){g(parseFloat(e.target.value))};return Object(h.jsx)("div",{style:{display:t},className:"Export-Modal",children:Object(h.jsxs)("div",{className:"Export-Inner-Cont",children:[Object(h.jsx)("h1",{children:"Export"}),Object(h.jsxs)("div",{className:"Export-Settings-Cont",children:[Object(h.jsxs)("div",{className:"Export-Setting-Group",children:[Object(h.jsx)("h3",{children:"Image Size"}),Object(h.jsx)(oe,{size:"Small",handler:function(e){if(e.target.value){var t=e.target.value.slice(0,e.target.value.length-1);c(t?parseInt(t):0)}else c(0)},value:r,title:"% of Original Size",suffix:"%",extraText:u})]}),Object(h.jsxs)("div",{className:"Export-Setting-Group",children:[Object(h.jsx)("h3",{children:"Format"}),Object(h.jsx)(re,{handler:function(e){x(e.target.value)},options:["png","jpeg"],title:"Select an Image Format"}),function(){if("jpeg"==b)return Object(h.jsx)(z,{handler:S,max:1,min:.01,step:.01,value:1,title:"JPEG Compression Quality"})}()]}),Object(h.jsxs)("div",{className:"Export-Setting-Group",children:[Object(h.jsx)("h3",{children:"Filename"}),Object(h.jsx)(oe,{size:"X-Large",handler:function(e){y(e.target.value)},value:F,title:"filename"})]})]}),Object(h.jsx)("button",{onMouseDown:function(){de.exportImage(F,r,b,m),a("none")},children:"Export & Download"})]})})},se=a.p+"static/media/image-filter-app.482f681d.png",le=function(e){var t=e.display,a=e.setDisplay;return Object(h.jsx)("div",{style:{display:t},className:"Info-Modal",children:Object(h.jsxs)("div",{className:"Info-Inner-Cont",children:[Object(h.jsx)("button",{className:"X-Out",onMouseDown:function(){a("none")},children:"X"}),Object(h.jsx)("img",{src:se}),Object(h.jsx)("i",{children:"v 1.0.0"}),Object(h.jsxs)("p",{children:[Object(h.jsx)("i",{children:"Little Image Filter Web App Thingy"})," is a web app designed to allow users to upload images and apply a series of filters to create customizable effects"]}),Object(h.jsxs)("p",{children:["This project was created by ",Object(h.jsx)("a",{href:"http://www.zack-is.online",children:"Zack Hersh"}),". This application was created within the ReactJS framework and all source code can be found in this ",Object(h.jsx)("a",{href:"https://github.com/zackshersh/little-image-filter-thingy-app",children:"github repository"}),"."]})]})})},de=new R;console.log("%cMAINIMAGE CREATED FROM CLASS","color:cyan");var he=function(){var e=Object(n.useState)(0),t=Object(d.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)("none"),r=Object(d.a)(o,2),c=r[0],u=r[1],j=Object(n.useState)("none"),p=Object(d.a)(j,2),f=p[0],b=p[1],x=function(){console.log("%c<<<<<<<< REFRESHING APP >>>>>>>>>","background-color:cyan;color:black"),i(a+1)},v=function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),t&&t[0]){e.next=4;break}return console.log("%c NO FILES","color:white,background:red"),e.abrupt("return");case 4:console.log(t[0]),(a=document.createElement("img")).src=URL.createObjectURL(t[0]),console.log(a.style),a.onload=function(){de.setImage(a),console.log("%c IMAGE LOADED","color:cyan")};case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log("%cAPP REFRESHING!!","color:red"),Object(n.useEffect)((function(){console.log("%c USE EFFECT"),de.init(document.querySelector(".imageCanv"))})),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(ce,{display:c,setDisplay:u}),Object(h.jsx)(le,{display:f,setDisplay:b}),Object(h.jsxs)("div",{className:"Image-Editor",children:[Object(h.jsx)(J,{refreshApp:x,setExportDisplay:u,setInfoDisplay:b}),Object(h.jsx)(ie,{refreshApp:x,uploadHandler:v})]})]})};r.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(he,{})}),document.getElementById("root"))}},[[449,1,2]]]);
//# sourceMappingURL=main.5beeb045.chunk.js.map